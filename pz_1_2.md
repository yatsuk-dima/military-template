# üìò –ü—Ä–∞–∫—Ç–∏—á–Ω–µ –ó–∞–Ω—è—Ç—Ç—è 1/2

**–¢–µ–º–∞:** –†–æ–∑—Ä–æ–±–∫–∞ REST API –¥–ª—è —Å–∏—Å—Ç–µ–º–∏ –≤—ñ–π—Å—å–∫–æ–≤–æ—ó –ª–æ–≥—ñ—Å—Ç–∏–∫–∏. Entity, Service, Controllers  
**–¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å:** 6 –≥–æ–¥–∏–Ω ‚Äî 3 –∑–∞–Ω—è—Ç—Ç—è –ø–æ 2 –≥–æ–¥.  
**–†–æ–±–æ—á–∏–π —á–∞—Å:** 5 –≥–æ–¥–∏–Ω (1 –≥–æ–¥. ‚Äî –∑–¥–∞—á–∞)  
**–û—Ü—ñ–Ω–∫–∞:** 30 –±–∞–ª—ñ–≤  

---

## üéØ –ú–ï–¢–ê –ó–ê–ù–Ø–¢–¢–Ø

**–°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π REST API backend** –∑:
- ‚úÖ JPA Entity –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ –∑–≤'—è–∑–∫–∞–º–∏
- ‚úÖ Repository –∑ Query Methods
- ‚úÖ Service Layer –∑ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–æ—é
- ‚úÖ REST Controllers –∑ –ø–æ–≤–Ω–∏–º CRUD
- ‚úÖ Bean Validation (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/–æ–Ω–æ–≤–ª–µ–Ω–Ω—è)
- ‚úÖ Exception Handling Architecture
- ‚úÖ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Working REST API –≥–æ—Ç–æ–≤–∏–π –¥–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ Postman/Swagger UI

---

## üé≤ –í–ò–ë–Ü–† –í–ê–†–Ü–ê–ù–¢–£ –ó–ê–í–î–ê–ù–ù–Ø

–í–∞—Ä—ñ–∞–Ω—Ç–∏ —Ä–æ–∑–ø–æ–¥—ñ–ª—è—é—Ç—å—Å—è –∑–≥—ñ–¥–Ω–æ —Å–ø–∏—Å–∫—É –≤ –∂—É—Ä–Ω–∞–ª—ñ: 1 ‚Äî –≤–∞—Ä—ñ–∞–Ω—Ç –ê, 2 ‚Äî –≤–∞—Ä—ñ–∞–Ω—Ç –í, 3 ‚Äî –≤–∞—Ä—ñ–∞–Ω—Ç –° —ñ —Ç.–¥.

### üì¶ **–í–∞—Ä—ñ–∞–Ω—Ç A: –°–∏—Å—Ç–µ–º–∞ –ú–¢–ó (–ú–∞—Ç–µ—Ä—ñ–∞–ª—å–Ω–æ-—Ç–µ—Ö–Ω—ñ—á–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è)**

**–ü—Ä–µ–¥–º–µ—Ç–Ω–∞ –æ–±–ª–∞—Å—Ç—å:** –û–±–ª—ñ–∫ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤, –±–æ—î–ø—Ä–∏–ø–∞—Å—ñ–≤, –ø—Ä–æ–¥–æ–≤–æ–ª—å—Å—Ç–≤–∞

**–û—Å–Ω–æ–≤–Ω—ñ Entity:**
- `SupplyCategory` ‚Äî –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó (–±–æ—î–ø—Ä–∏–ø–∞—Å–∏, –ø–∞–ª—å–Ω–µ, –ø—Ä–æ–¥–æ–≤–æ–ª—å—Å—Ç–≤–æ, –º–µ–¥–∏–∫–∞–º–µ–Ω—Ç–∏)
- `SupplyItem` ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –ø–æ–∑–∏—Ü—ñ—è –Ω–∞ —Å–∫–ª–∞–¥—ñ
- `Warehouse` ‚Äî —Å–∫–ª–∞–¥
- `SupplyMovement` ‚Äî —Ä—É—Ö –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ (Stage 2)

**–ö–ª—é—á–æ–≤—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:**
- –ö–æ–Ω—Ç—Ä–æ–ª—å **–∫—ñ–ª—å–∫–æ—Å—Ç—ñ** (`quantity` ‚Äî Integer)
- –ö–æ–Ω—Ç—Ä–æ–ª—å **—Ç–µ—Ä–º—ñ–Ω—É –ø—Ä–∏–¥–∞—Ç–Ω–æ—Å—Ç—ñ** (`expirationDate`)
- **–ù–æ–º–µ—Ä –ø–∞—Ä—Ç—ñ—ó** (`batchNumber`)
- **–ö–ª–∞—Å –Ω–µ–±–µ–∑–ø–µ–∫–∏** (`hazardClass` ‚Äî enum)
- **–£–º–æ–≤–∏ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è** (`storageConditions`)

**–°–∫–ª–∞–¥–Ω—ñ –±—ñ–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞:**
- ‚ùå –ù–µ –º–æ–∂–Ω–∞ –≤–∏–¥–∞—Ç–∏ –±—ñ–ª—å—à–µ –Ω—ñ–∂ —î –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ
- ‚ùå –ù–µ –º–æ–∂–Ω–∞ –≤–∏–¥–∞—Ç–∏ –ø—Ä–æ—Å—Ç—Ä–æ—á–µ–Ω—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏
- ‚úÖ –ü—Ä–∏ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—ñ ‚Äî –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –Ω–∞–∑–∞–¥
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Å–ø–∏—Å–∞–Ω–Ω—è –ø–æ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—é —Ç–µ—Ä–º—ñ–Ω—É

**–ü—Ä–∏–∫–ª–∞–¥ –¥–∞–Ω–∏—Ö:**
```
–ö–∞—Ç–µ–≥–æ—Ä—ñ—è: "–ë–æ—î–ø—Ä–∏–ø–∞—Å–∏ 5.45–º–º"
–ü–æ–∑–∏—Ü—ñ—è: –ü–∞—Ç—Ä–æ–Ω–∏ –ê–ö-74, –ø–∞—Ä—Ç—ñ—è #2024-03, –∫—ñ–ª—å–∫—ñ—Å—Ç—å: 5000 —à—Ç, 
         —Ç–µ—Ä–º—ñ–Ω: 2029-12-31, –∫–ª–∞—Å: EXPLOSIVE
```

---

### üöó **–í–∞—Ä—ñ–∞–Ω—Ç B: –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –≤—ñ–π—Å—å–∫–æ–≤–∏–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º**

**–ü—Ä–µ–¥–º–µ—Ç–Ω–∞ –æ–±–ª–∞—Å—Ç—å:** –û–±–ª—ñ–∫, –µ–∫—Å–ø–ª—É–∞—Ç–∞—Ü—ñ—è —Ç–∞ —Ç–µ—Ö–æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è –≤—ñ–π—Å—å–∫–æ–≤–æ—ó —Ç–µ—Ö–Ω—ñ–∫–∏

**–û—Å–Ω–æ–≤–Ω—ñ Entity:**
- `VehicleCategory` ‚Äî –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó (–ª–µ–≥–∫–æ–≤–∞, –≤–∞–Ω—Ç–∞–∂–Ω–∞, —Å–ø–µ—Ü—Ç–µ—Ö–Ω—ñ–∫–∞, –±—Ä–æ–Ω–µ—Ç–µ—Ö–Ω—ñ–∫–∞)
- `Vehicle` ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –æ–¥–∏–Ω–∏—Ü—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É
- `Driver` ‚Äî –≤–æ–¥—ñ–π
- `VehicleAssignment` ‚Äî –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–µ—Ö–Ω—ñ–∫–∏ (Stage 2)

**–ö–ª—é—á–æ–≤—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:**
- **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ–π–Ω–∏–π –Ω–æ–º–µ—Ä** (`registrationNumber`)
- **–ü—Ä–æ–±—ñ–≥** (`mileage` ‚Äî Integer –≤ –∫–º)
- **–ù–æ–º–µ—Ä –¥–≤–∏–≥—É–Ω–∞** (`engineNumber`)
- **–¢–∏–ø –ø–∞–ª–∏–≤–∞** (`fuelType` ‚Äî enum: DIESEL, PETROL, HYBRID)
- **–ì—Ä–∞—Ñ—ñ–∫ –¢–û** (`maintenanceIntervalKm` ‚Äî –∫–æ–∂–Ω—ñ N –∫–º)
- **–û—Å—Ç–∞–Ω–Ω—î –¢–û** (`lastMaintenanceDate`, `lastMaintenanceMileage`)

**–°–∫–ª–∞–¥–Ω—ñ –±—ñ–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞:**
- ‚ùå –ù–µ –º–æ–∂–Ω–∞ –ø—Ä–∏–∑–Ω–∞—á–∏—Ç–∏ —Ç–µ—Ö–Ω—ñ–∫—É –±–µ–∑ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–æ–¥—ñ—è
- ‚ùå –ù–µ –º–æ–∂–Ω–∞ –µ–∫—Å–ø–ª—É–∞—Ç—É–≤–∞—Ç–∏ —è–∫—â–æ –ø—Ä–æ—Å—Ç—Ä–æ—á–µ–Ω–æ –¢–û (–ø—Ä–æ–±—ñ–≥ > –ª—ñ–º—ñ—Ç)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –Ω–∞–≥–∞–¥—É–≤–∞–Ω–Ω—è –ø—Ä–æ –Ω–∞–±–ª–∏–∂–µ–Ω–Ω—è –¢–û
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ –≤–æ–¥—ñ—è —Ç–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É

**–ü—Ä–∏–∫–ª–∞–¥ –¥–∞–Ω–∏—Ö:**
```
–ö–∞—Ç–µ–≥–æ—Ä—ñ—è: "–í–∞–Ω—Ç–∞–∂–Ω–∞ —Ç–µ—Ö–Ω—ñ–∫–∞"
–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç: –ö—Ä–ê–ó-6322, —Ä–µ–≥.–Ω–æ–º–µ—Ä –ê–ê1234–í–í, –ø—Ä–æ–±—ñ–≥: 85400 –∫–º, 
           –¥–≤–∏–≥—É–Ω: –Ø–ú–ó-238, –ø–∞–ª–∏–≤–æ: DIESEL,
           –æ—Å—Ç–∞–Ω–Ω—î –¢–û: 2024-10-15 –Ω–∞ –ø—Ä–æ–±—ñ–≥—É 82000 –∫–º,
           –Ω–∞—Å—Ç—É–ø–Ω–µ –¢–û: —á–µ—Ä–µ–∑ 4600 –∫–º
```

---

### üë• **–í–∞—Ä—ñ–∞–Ω—Ç C: –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª–∞–º–∏ —Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º**

**–ü—Ä–µ–¥–º–µ—Ç–Ω–∞ –æ–±–ª–∞—Å—Ç—å:** HR —Ç–∞ –∫–∞–¥—Ä–æ–≤–∏–π –æ–±–ª—ñ–∫ –≤—ñ–π—Å—å–∫–æ–≤–æ—ó —á–∞—Å—Ç–∏–Ω–∏

**–û—Å–Ω–æ–≤–Ω—ñ Entity:**
- `UnitType` ‚Äî —Ç–∏–ø –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—É (—Ä–æ—Ç–∞, –±–∞—Ç–∞–ª—å–π–æ–Ω, –≤–∑–≤–æ–¥, –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è)
- `MilitaryUnit` ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª
- `Personnel` ‚Äî –≤—ñ–π—Å—å–∫–æ–≤–æ—Å–ª—É–∂–±–æ–≤–µ—Ü—å
- `Assignment` ‚Äî –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –Ω–∞ –ø–æ—Å–∞–¥—É (Stage 2)

**–ö–ª—é—á–æ–≤—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:**
- **–í—ñ–π—Å—å–∫–æ–≤–∏–π ID** (`militaryId` ‚Äî —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π)
- **–ó–≤–∞–Ω–Ω—è** (`rank` ‚Äî enum)
- **–í–û–°** (`specialization` ‚Äî –≤—ñ–π—Å—å–∫–æ–≤–æ-–æ–±–ª—ñ–∫–æ–≤–∞ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ—Å—Ç—å)
- **–¢–µ—Ä–º—ñ–Ω –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É** (`contractEndDate`)
- **–†—ñ–≤–µ–Ω—å –¥–æ–ø—É—Å–∫—É** (`securityClearance` ‚Äî enum)
- **–ú–µ–¥–∏—á–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è** (`medicalCategory` ‚Äî enum)

**–°–∫–ª–∞–¥–Ω—ñ –±—ñ–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞:**
- ‚ùå –ù–µ –º–æ–∂–Ω–∞ –ø—Ä–∏–∑–Ω–∞—á–∏—Ç–∏ –Ω–∞ –ø–æ—Å–∞–¥—É –±–µ–∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—ó –í–û–°
- ‚ùå –ù–µ –º–æ–∂–Ω–∞ –ø—Ä–∏–∑–Ω–∞—á–∏—Ç–∏ —è–∫—â–æ –∑–∞–∫—ñ–Ω—á–∏–≤—Å—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ—Å—Ç—ñ —Ä—ñ–≤–Ω—è –¥–æ–ø—É—Å–∫—É —Ç–∞ –ø–æ—Å–∞–¥–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —Ä–æ—Ç–∞—Ü—ñ—ó (–Ω–∞–±–ª–∏–∂–µ–Ω–Ω—è –∫—ñ–Ω—Ü—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É)

**–ü—Ä–∏–∫–ª–∞–¥ –¥–∞–Ω–∏—Ö:**
```
–ü—ñ–¥—Ä–æ–∑–¥—ñ–ª: "1-–∞ –º–µ—Ö–∞–Ω—ñ–∑–æ–≤–∞–Ω–∞ —Ä–æ—Ç–∞"
–ü–µ—Ä—Å–æ–Ω–∞–ª: –Ü–≤–∞–Ω–µ–Ω–∫–æ –û.–ü., ID: UA12345678, –∑–≤–∞–Ω–Ω—è: –õ–µ–π—Ç–µ–Ω–∞–Ω—Ç,
          –í–û–°: –ö–æ–º–∞–Ω–¥–∏—Ä –≤–∑–≤–æ–¥—É,
          –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–æ: 2026-03-15,
          –¥–æ–ø—É—Å–∫: SECRET,
          –º–µ–¥.–∫–∞—Ç–µ–≥–æ—Ä—ñ—è: A1
```

---

## ‚ö†Ô∏è –í–ê–ñ–õ–ò–í–û: –û–±—Ä–∞–Ω–Ω—è –≤–∞—Ä—ñ–∞–Ω—Ç—É

1. **–ó–Ω–∞–π–¥—ñ—Ç—å —Å–≤—ñ–π –≤–∞—Ä—ñ–∞–Ω—Ç** –Ω–∞ –ø–æ—á–∞—Ç–∫—É –∑–∞–Ω—è—Ç—Ç—è
2. –í—Å—ñ –Ω–∞–∑–≤–∏ Entity/–ø–æ–ª—ñ–≤/endpoints **–º–∞—é—Ç—å –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏** –æ–±—Ä–∞–Ω–æ–º—É –≤–∞—Ä—ñ–∞–Ω—Ç—É
3. –ù–µ –º–æ–∂–Ω–∞ –º—ñ–Ω—è—Ç–∏ –≤–∞—Ä—ñ–∞–Ω—Ç –ø—ñ—Å–ª—è –ø–æ—á–∞—Ç–∫—É —Ä–æ–±–æ—Ç–∏
4. –ö–æ–∂–µ–Ω –≤–∞—Ä—ñ–∞–Ω—Ç –º–∞—î **–µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–Ω—É —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å** (30 –±–∞–ª—ñ–≤)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è:** 
- –í–∞—Ä—ñ–∞–Ω—Ç A ‚Äî —è–∫—â–æ —Ü—ñ–∫–∞–≤–∞ –ª–æ–≥—ñ—Å—Ç–∏–∫–∞ —Ç–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞–ø–∞—Å—ñ–≤
- –í–∞—Ä—ñ–∞–Ω—Ç B ‚Äî —è–∫—â–æ —Ü—ñ–∫–∞–≤–∞ —Ç–µ—Ö–Ω—ñ–∫–∞ —Ç–∞ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è
- –í–∞—Ä—ñ–∞–Ω—Ç C ‚Äî —è–∫—â–æ —Ü—ñ–∫–∞–≤—ñ HR –ø—Ä–æ—Ü–µ—Å–∏ —Ç–∞ –æ–±–ª—ñ–∫ –ø–µ—Ä—Å–æ–Ω–∞–ª—É

---

## üìÖ –†–û–ó–ü–û–î–Ü–õ –ß–ê–°–£

### **–ó–∞–Ω—è—Ç—Ç—è 1 (2 –≥–æ–¥–∏–Ω–∏): Backend Foundation**

**–û—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ—î–∫—Ç—É (15 —Ö–≤)**
- –§–æ—Ä–∫ template repository
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—ñ–ª–∫–∏ `stage-1`
- –û–≥–ª—è–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –ø—Ä–æ—î–∫—Ç—É

**Entity —Ç–∞ Repository (45 —Ö–≤)**
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è 3 Entity –∫–ª–∞—Å—ñ–≤ –∑–≥—ñ–¥–Ω–æ –≤–∞—Ä—ñ–∞–Ω—Ç—É
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–≤'—è–∑–∫—ñ–≤ (`@ManyToOne`)
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è Repository —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤
- –î–æ–¥–∞–≤–∞–Ω–Ω—è Query Methods

**Service Layer ‚Äî —á–∞—Å—Ç–∏–Ω–∞ 1 (30 —Ö–≤)**
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è DTO –∫–ª–∞—Å—ñ–≤ (Request/Response)
- –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è CRUD –º–µ—Ç–æ–¥—ñ–≤ –≤ Service
- –†—É—á–Ω–∏–π –º–∞–ø–ø—ñ–Ω–≥ Entity ‚Üî DTO

---

### **–ó–∞–Ω—è—Ç—Ç—è 2 (2 –≥–æ–¥–∏–Ω–∏): Service + Controllers**

**Service Layer ‚Äî —á–∞—Å—Ç–∏–Ω–∞ 2 (30 —Ö–≤)**
- –î–æ–¥–∞–≤–∞–Ω–Ω—è –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∏
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤–ª–∞—Å–Ω–∏—Ö Exception –∫–ª–∞—Å—ñ–≤
- –ë–∞–∑–æ–≤–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è (–∑–∞–ø—É—Å–∫ –¥–æ–¥–∞—Ç–∫—É)

**REST Controllers (45 —Ö–≤)**
- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è CRUD endpoints
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è `ResponseEntity`
- –ü—Ä–∞–≤–∏–ª—å–Ω—ñ HTTP —Å—Ç–∞—Ç—É—Å–∏

**Bean Validation (15 —Ö–≤)**
- –î–æ–¥–∞–≤–∞–Ω–Ω—è `@Valid` –¥–æ endpoints
- Validation Groups (Create vs Update)
- Custom validators (–æ–ø—Ü—ñ–π–Ω–æ)

---

### **–ó–∞–Ω—è—Ç—Ç—è 3 (2 –≥–æ–¥–∏–Ω–∏): Exception Handling + Swagger + –ó–¥–∞—á–∞**

**Exception Handling (30 —Ö–≤)**
- `@ControllerAdvice` –∫–ª–∞—Å
- RFC 7807 Problem Details
- –û–±—Ä–æ–±–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –ø–æ–º–∏–ª–æ–∫

**Swagger + –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è (15 —Ö–≤)**
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è SpringDoc OpenAPI
- –î–æ–¥–∞–≤–∞–Ω–Ω—è `@Tag`, `@Operation`
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ Swagger UI

**–Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∞ –∑–¥–∞—á–∞ (45 —Ö–≤)**
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è —Ä–æ–±–æ—Ç–∏ API —á–µ—Ä–µ–∑ Swagger
- –ü–æ—è—Å–Ω–µ–Ω–Ω—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–∏—Ö —Ä—ñ—à–µ–Ω—å
- –í—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è –≤–∏–∫–ª–∞–¥–∞—á–∞
- Code Review
- –í–∏—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –æ—Ü—ñ–Ω–∫–∏

---

## üöÄ –ï–¢–ê–ü 1: –ü–Ü–î–ì–û–¢–û–í–ö–ê –ü–†–û–Ñ–ö–¢–£

### –ö—Ä–æ–∫ 1.1: –§–æ—Ä–∫ —Ç–∞ –∫–ª–æ–Ω—É–≤–∞–Ω–Ω—è

```bash
# 1. –§–æ—Ä–∫–Ω—ñ—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –Ω–∞ GitHub
# https://github.com/YOUR-INSTRUCTOR/military-warehouse-template

# 2. –ö–ª–æ–Ω—É–π—Ç–µ –°–í–Ü–ô —Ñ–æ—Ä–∫
git clone https://github.com/YOUR-USERNAME/military-warehouse-template.git
cd military-warehouse-template

# 3. –°—Ç–≤–æ—Ä—ñ—Ç—å –≥—ñ–ª–∫—É –¥–ª—è Stage 1
git checkout -b stage-1

# 4. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –ø—Ä–æ—î–∫—Ç –≤ IDE (IntelliJ IDEA)
```

---

### –ö—Ä–æ–∫ 1.2: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç—ñ–≤

–°—Ç–≤–æ—Ä—ñ—Ç—å **–ø—Ä–∞–≤–∏–ª—å–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–∫–µ—Ç—ñ–≤** –≤ `src/main/java/ua/edu/viti/warehouse/`:

```
warehouse/
‚îú‚îÄ‚îÄ entity/           # JPA Entity –∫–ª–∞—Å–∏
‚îú‚îÄ‚îÄ repository/       # Repository —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏
‚îú‚îÄ‚îÄ service/          # Service Layer (–±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞)
‚îú‚îÄ‚îÄ controller/       # REST Controllers
‚îú‚îÄ‚îÄ dto/              # Data Transfer Objects
‚îÇ   ‚îú‚îÄ‚îÄ request/      # Request DTO (–¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/–æ–Ω–æ–≤–ª–µ–Ω–Ω—è)
‚îÇ   ‚îî‚îÄ‚îÄ response/     # Response DTO (–¥–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π)
‚îú‚îÄ‚îÄ exception/        # Custom Exception –∫–ª–∞—Å–∏
‚îú‚îÄ‚îÄ config/           # Configuration –∫–ª–∞—Å–∏
‚îî‚îÄ‚îÄ WarehouseApplication.java  # Main –∫–ª–∞—Å
```

**–£–≤–∞–≥–∞:** –ù–∞–∑–≤–∏ –ø–∞–∫–µ—Ç—ñ–≤ **–æ–¥–Ω–∞–∫–æ–≤—ñ** –¥–ª—è –≤—Å—ñ—Ö –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤. –†—ñ–∑–Ω—è—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –Ω–∞–∑–≤–∏ –∫–ª–∞—Å—ñ–≤ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ!

---

### –ö—Ä–æ–∫ 1.3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è application.yaml

–ó–º—ñ–Ω—ñ—Ç—å —Ñ–∞–π–ª `application.yaml` —É `src/main/resources/`:

**–£ –≤–∞—Å –º–∞—î –≤–∏–π—Ç–∏ —â–æ—Å—å —Å—Ö–æ–∂–µ:**

```yaml
# Spring Application Configuration
spring:
  application:
    name: military-warehouse-api
  
  # Database Configuration
  datasource:
    url: jdbc:postgresql://localhost:5432/warehouse_db
    username: warehouse_user
    password: warehouse_pass
    driver-class-name: org.postgresql.Driver
  
  # JPA Configuration
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.PostgreSQLDialect
    open-in-view: false

# SpringDoc OpenAPI Configuration
springdoc:
  api-docs:
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html
    tags-sorter: alpha
    operations-sorter: alpha

# Logging Configuration
logging:
  level:
    ua.edu.viti.military: DEBUG
    org.springframework.web: INFO
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE

# Server Configuration
server:
  port: 8080
  error:
    include-message: always
    include-binding-errors: always
```

**–ü–µ—Ä–µ–≤–∞–≥–∏ YAML –Ω–∞–¥ Properties:**
- –ë—ñ–ª—å—à —á–∏—Ç–∞–±–µ–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –ü—Ä–∏—Ä–æ–¥–Ω–∞ —ñ—î—Ä–∞—Ä—Ö—ñ—è
- –ú–µ–Ω—à–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω—å
- –õ–µ–≥—à–µ –¥–æ–¥–∞–≤–∞—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ

---

### –ö—Ä–æ–∫ 1.4: –ó–∞–ø—É—Å–∫ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```bash
# –ó–∞–ø—É—Å—Ç—ñ—Ç—å PostgreSQL —á–µ—Ä–µ–∑ Docker
docker-compose up -d

# –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –ë–î –ø—Ä–∞—Ü—é—î
docker-compose ps

# –ú–∞—î –±—É—Ç–∏:
# military-warehouse-db    postgres:15-alpine   Up   5432->5432
```

**–Ø–∫—â–æ –Ω–µ –ø—Ä–∞—Ü—é—î:** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π Docker Desktop

---

### –ö—Ä–æ–∫ 1.5: –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è JPA Auditing

–£ **–≥–æ–ª–æ–≤–Ω–æ–º—É –∫–ª–∞—Å—ñ** `WarehouseApplication.java`:

```java
package ua.edu.viti.military;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.data.jpa.repository.config.EnableJpaAuditing;

@SpringBootApplication
@EnableJpaAuditing  // ‚Üê –î–û–î–ê–ô–¢–ï –¶–ï
public class WarehouseApplication {
    public static void main(String[] args) {
        SpringApplication.run(WarehouseApplication.class, args);
    }
}
```

**–ù–∞–≤—ñ—â–æ?** –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è `createdAt` —Ç–∞ `updatedAt` –ø–æ–ª—ñ–≤.

---

## üìù –ï–¢–ê–ü 2: ENTITY –ö–õ–ê–°–ò

### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ Entity –¥–ª—è –í–°–Ü–• –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤

**–ó–∞–≥–∞–ª—å–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞:**
1. –ö–æ–∂–µ–Ω –≤–∞—Ä—ñ–∞–Ω—Ç –º–∞—î **3 –æ—Å–Ω–æ–≤–Ω—ñ Entity** –≤ Stage 1:
   - **Category** ‚Äî –∫–∞—Ç–µ–≥–æ—Ä—ñ—è (–∑–±—Ä–æ—ó/–º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤/—Ç–µ—Ö–Ω—ñ–∫–∏/–ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—ñ–≤)
   - **Item** ‚Äî –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –æ–¥–∏–Ω–∏—Ü—è (–∑–±—Ä–æ—è/–º–∞—Ç–µ—Ä—ñ–∞–ª/—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç/–ø–µ—Ä—Å–æ–Ω–∞–ª)
   - **Location/Person** ‚Äî –º—ñ—Å—Ü–µ/–æ—Å–æ–±–∞ (—Å–∫–ª–∞–¥/–≤–æ–¥—ñ–π/–ø—ñ–¥—Ä–æ–∑–¥—ñ–ª)

2. –í—Å—ñ Entity **–º–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤—ñ –±–∞–∑–æ–≤—ñ –ø–æ–ª—è:**
   - `id` (Long) ‚Äî primary key
   - `createdAt` (LocalDateTime) ‚Äî –¥–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è
   - `updatedAt` (LocalDateTime) ‚Äî –¥–∞—Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

3. –í—Å—ñ Entity **–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å Lombok:**
   - `@Data` ‚Äî –¥–ª—è getters/setters/toString
   - `@NoArgsConstructor` ‚Äî –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
   - `@AllArgsConstructor` ‚Äî –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∑ —É—Å—ñ–º–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

4. –í—Å—ñ Entity **–º–∞—é—Ç—å Auditing:**
   - `@EntityListeners(AuditingEntityListener.class)` –Ω–∞ –∫–ª–∞—Å—ñ
   - `@CreatedDate` –Ω–∞ `createdAt`
   - `@LastModifiedDate` –Ω–∞ `updatedAt`

---

### –ü—Ä–∏–∫–ª–∞–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ Entity (–∑–∞–≥–∞–ª—å–Ω–∏–π —à–∞–±–ª–æ–Ω)

**‚ö†Ô∏è –¶–ï –ù–ï –ì–û–¢–û–í–ò–ô –ö–û–î! –¶–ï –®–ê–ë–õ–û–ù –î–õ–Ø –†–û–ó–£–ú–Ü–ù–ù–Ø!**

```java
package ua.edu.viti.military.entity;

import jakarta.persistence.*;
import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;
import org.springframework.data.annotation.CreatedDate;
import org.springframework.data.annotation.LastModifiedDate;
import org.springframework.data.jpa.domain.support.AuditingEntityListener;

import java.time.LocalDateTime;

@Entity
@Table(name = "–í–ê–®_–í–ê–†–Ü–ê–ù–¢_categories")  // <- –ó–ú–Ü–ù–Ü–¢–¨
@EntityListeners(AuditingEntityListener.class)
@Data
@NoArgsConstructor
@AllArgsConstructor
public class –í–∞—àCategory {  // <- –ó–ú–Ü–ù–Ü–¢–¨ –Ω–∞–∑–≤—É –∫–ª–∞—Å—É

    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;

    @Column(nullable = false, unique = true, length = 100)
    private String name;

    @Column(length = 500)
    private String description;

    // === –î–û–î–ê–ô–¢–ï –°–ü–ï–¶–ò–§–Ü–ß–ù–Ü –ü–û–õ–Ø –î–õ–Ø –í–ê–®–û–ì–û –í–ê–†–Ü–ê–ù–¢–£ ===

    @CreatedDate
    @Column(nullable = false, updatable = false)
    private LocalDateTime createdAt;

    @LastModifiedDate
    private LocalDateTime updatedAt;
}
```

---

### üì¶ –í–∞—Ä—ñ–∞–Ω—Ç A: –°–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—è Entity –¥–ª—è –ú–¢–ó

#### Entity 1: `SupplyCategory`

**–¢–∞–±–ª–∏—Ü—è:** `supply_categories`

**–ü–æ–ª—è:**
- `id` ‚Äî Long, –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è
- `name` ‚Äî String, NOT NULL, UNIQUE, max 100 (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "–ë–æ—î–ø—Ä–∏–ø–∞—Å–∏ 5.45–º–º")
- `code` ‚Äî String, NOT NULL, UNIQUE, max 20 (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "AMMO-545")
- `description` ‚Äî String, max 500
- `requiresColdStorage` ‚Äî Boolean (—á–∏ –ø–æ—Ç—Ä—ñ–±–Ω–µ —Ö–æ–ª–æ–¥–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è)
- `createdAt`, `updatedAt` ‚Äî –∞—É–¥–∏—Ç

**–ü—ñ–¥–∫–∞–∑–∫–∏:**
- –ù–∞–∑–≤–∞ —Ç–∞–±–ª–∏—Ü—ñ –≤ `@Table(name = "...")`
- `@Column(nullable = false, unique = true)` –¥–ª—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –ø–æ–ª—ñ–≤
- –î–ª—è boolean –ø–æ–ª—ñ–≤ –ù–ï –ø–æ—Ç—Ä—ñ–±–µ–Ω `@Column`, –ø—Ä–æ—Å—Ç–æ `private Boolean –ø–æ–ª–µ;`

---

#### Entity 2: `SupplyItem`

**–¢–∞–±–ª–∏—Ü—è:** `supply_items`

**–ü–æ–ª—è:**
- `id` ‚Äî Long
- `name` ‚Äî String, NOT NULL, max 200 (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "–ü–∞—Ç—Ä–æ–Ω–∏ 5.45—Ö39 –º–º –ê–ö-74")
- `batchNumber` ‚Äî String, NOT NULL, UNIQUE, max 50 (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "BATCH-2024-03-001")
- `category` ‚Äî SupplyCategory, –∑–≤'—è–∑–æ–∫ @ManyToOne, NOT NULL
- `quantity` ‚Äî Integer, NOT NULL (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: 5000)
- `unit` ‚Äî String, max 20 (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "—à—Ç", "–∫–≥", "–ª")
- `expirationDate` ‚Äî LocalDate (–º–æ–∂–µ –±—É—Ç–∏ NULL –¥–ª—è –Ω–µ–ø—Ä–æ–¥–æ–≤–æ–ª—å—á–∏—Ö)
- `hazardClass` ‚Äî HazardClass enum, NOT NULL
- `storageConditions` ‚Äî String, max 200 (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "–°—É—Ö–µ –ø—Ä–∏–º—ñ—â–µ–Ω–Ω—è, t +5..+25¬∞C")
- `warehouse` ‚Äî Warehouse, –∑–≤'—è–∑–æ–∫ @ManyToOne
- `status` ‚Äî ItemStatus enum, NOT NULL
- `createdAt`, `updatedAt` ‚Äî –∞—É–¥–∏—Ç

**Enum –∫–ª–∞—Å–∏ —Å—Ç–≤–æ—Ä—ñ—Ç—å –æ–∫—Ä–µ–º–æ:**

```java
package ua.edu.viti.military.entity;

public enum HazardClass {
    NON_HAZARDOUS,    // –ù–µ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–π
    FLAMMABLE,        // –õ–µ–≥–∫–æ–∑–∞–π–º–∏—Å—Ç–∏–π
    EXPLOSIVE,        // –í–∏–±—É—Ö–æ–Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–π
    TOXIC,            // –¢–æ–∫—Å–∏—á–Ω–∏–π
    CORROSIVE         // –ö–æ—Ä–æ–∑—ñ–π–Ω–∏–π
}
```

```java
package ua.edu.viti.military.entity;

public enum ItemStatus {
    IN_STOCK,         // –ù–∞ —Å–∫–ª–∞–¥—ñ
    ISSUED,           // –í–∏–¥–∞–Ω–æ
    EXPIRED,          // –ü—Ä–æ—Å—Ç—Ä–æ—á–µ–Ω–æ
    WRITTEN_OFF       // –°–ø–∏—Å–∞–Ω–æ
}
```

**–ü—ñ–¥–∫–∞–∑–∫–∏ –¥–ª—è –∑–≤'—è–∑–∫—ñ–≤:**
```java
@ManyToOne(fetch = FetchType.LAZY)  // –ó–ê–í–ñ–î–ò LAZY!
@JoinColumn(name = "category_id", nullable = false)
private SupplyCategory category;

@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = "warehouse_id")
private Warehouse warehouse;
```

**–ü—ñ–¥–∫–∞–∑–∫–∏ –¥–ª—è enum:**
```java
@Enumerated(EnumType.STRING)  // –ó–ê–í–ñ–î–ò STRING, –Ω–µ ORDINAL!
@Column(nullable = false)
private HazardClass hazardClass;
```

**–ü—ñ–¥–∫–∞–∑–∫–∏ –¥–ª—è –¥–∞—Ç:**
```java
private LocalDate expirationDate;  // –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –∞–Ω–æ—Ç–∞—Ü—ñ—ó –¥–ª—è LocalDate
```

---

#### Entity 3: `Warehouse`

**–¢–∞–±–ª–∏—Ü—è:** `warehouses`

**–ü–æ–ª—è:**
- `id` ‚Äî Long
- `name` ‚Äî String, NOT NULL, UNIQUE, max 100 (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π —Å–∫–ª–∞–¥ ‚Ññ1")
- `code` ‚Äî String, NOT NULL, UNIQUE, max 20 (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "WH-01")
- `address` ‚Äî String, max 200
- `capacity` ‚Äî Integer (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –≤–º—ñ—Å—Ç–∏–º—ñ—Å—Ç—å –≤ –º¬≥)
- `currentOccupancy` ‚Äî Integer (–ø–æ—Ç–æ—á–Ω–∞ –∑–∞–ø–æ–≤–Ω–µ–Ω—ñ—Å—Ç—å –≤ %)
- `hasRefrigeration` ‚Äî Boolean
- `createdAt`, `updatedAt` ‚Äî –∞—É–¥–∏—Ç

---

### üöó –í–∞—Ä—ñ–∞–Ω—Ç B: –°–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—è Entity –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É

#### Entity 1: `VehicleCategory`

**–¢–∞–±–ª–∏—Ü—è:** `vehicle_categories`

**–ü–æ–ª—è:**
- `id`, `name`, `code`, `description` ‚Äî —è–∫ –≤ —ñ–Ω—à–∏—Ö –≤–∞—Ä—ñ–∞–Ω—Ç–∞—Ö
- `requiredLicense` ‚Äî String, max 20 (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "C", "CE", "D")
- `maxLoadCapacity` ‚Äî Integer (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –≤–∞–Ω—Ç–∞–∂–æ–ø—ñ–¥–π–æ–º–Ω—ñ—Å—Ç—å –≤ –∫–≥)
- `createdAt`, `updatedAt`

---

#### Entity 2: `Vehicle`

**–¢–∞–±–ª–∏—Ü—è:** `vehicles`

**–ü–æ–ª—è:**
- `id` ‚Äî Long
- `model` ‚Äî String, NOT NULL, max 100 (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "–ö—Ä–ê–ó-6322")
- `registrationNumber` ‚Äî String, NOT NULL, UNIQUE, max 20 (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "–ê–ê1234–í–í")
- `category` ‚Äî VehicleCategory, @ManyToOne, NOT NULL
- `engineNumber` ‚Äî String, UNIQUE, max 50
- `chassisNumber` ‚Äî String, UNIQUE, max 50
- `manufactureYear` ‚Äî Integer
- `mileage` ‚Äî Integer, NOT NULL (–ø—Ä–æ–±—ñ–≥ –≤ –∫–º)
- `fuelType` ‚Äî FuelType enum, NOT NULL
- `fuelConsumption` ‚Äî Double (–ª—ñ—Ç—Ä—ñ–≤ –Ω–∞ 100 –∫–º)
- `maintenanceIntervalKm` ‚Äî Integer (—ñ–Ω—Ç–µ—Ä–≤–∞–ª –¢–û –≤ –∫–º, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ 10000)
- `lastMaintenanceDate` ‚Äî LocalDate
- `lastMaintenanceMileage` ‚Äî Integer
- `driver` ‚Äî Driver, @ManyToOne
- `status` ‚Äî VehicleStatus enum, NOT NULL
- `createdAt`, `updatedAt`

**Enum:**

```java
package ua.edu.viti.military.entity;

public enum FuelType {
    DIESEL,
    PETROL,
    HYBRID,
    ELECTRIC
}
```

```java
package ua.edu.viti.military.entity;

public enum VehicleStatus {
    OPERATIONAL,      // –°–ø—Ä–∞–≤–Ω–∏–π
    IN_MAINTENANCE,   // –ù–∞ –¢–û
    OUT_OF_SERVICE,   // –ù–µ—Å–ø—Ä–∞–≤–Ω–∏–π
    WRITTEN_OFF       // –°–ø–∏—Å–∞–Ω–∏–π
}
```

---

#### Entity 3: `Driver`

**–¢–∞–±–ª–∏—Ü—è:** `drivers`

**–ü–æ–ª—è:**
- `id` ‚Äî Long
- `militaryId` ‚Äî String, NOT NULL, UNIQUE, max 50
- `firstName`, `lastName`, `middleName` ‚Äî String
- `rank` ‚Äî String, max 50
- `licenseNumber` ‚Äî String, UNIQUE, max 50
- `licenseCategories` ‚Äî String, max 50 (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "B,C,CE,D")
- `licenseExpiryDate` ‚Äî LocalDate
- `phoneNumber` ‚Äî String, max 20
- `isActive` ‚Äî Boolean
- `createdAt`, `updatedAt`

---

### üë• –í–∞—Ä—ñ–∞–Ω—Ç C: –°–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—è Entity –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—É

#### Entity 1: `UnitType`

**–¢–∞–±–ª–∏—Ü—è:** `unit_types`

**–ü–æ–ª—è:**
- `id`, `name`, `code`, `description`
- `hierarchy` ‚Äî Integer (—Ä—ñ–≤–µ–Ω—å –≤ —ñ—î—Ä–∞—Ä—Ö—ñ—ó: 1-–≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è, 2-–≤–∑–≤–æ–¥, 3-—Ä–æ—Ç–∞, 4-–±–∞—Ç–∞–ª—å–π–æ–Ω)
- `typicalSize` ‚Äî Integer (—Ç–∏–ø–æ–≤–∞ —á–∏—Å–µ–ª—å–Ω—ñ—Å—Ç—å)
- `createdAt`, `updatedAt`

---

#### Entity 2: `MilitaryUnit`

**–¢–∞–±–ª–∏—Ü—è:** `military_units`

**–ü–æ–ª—è:**
- `id` ‚Äî Long
- `name` ‚Äî String, NOT NULL, max 150 (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: "1-–∞ –º–µ—Ö–∞–Ω—ñ–∑–æ–≤–∞–Ω–∞ —Ä–æ—Ç–∞")
- `code` ‚Äî String, NOT NULL, UNIQUE, max 50
- `unitType` ‚Äî UnitType, @ManyToOne, NOT NULL
- `parentUnit` ‚Äî MilitaryUnit, @ManyToOne (–¥–ª—è —ñ—î—Ä–∞—Ä—Ö—ñ—ó)
- `commander` ‚Äî Personnel, @ManyToOne
- `location` ‚Äî String, max 200
- `formationDate` ‚Äî LocalDate
- `strength` ‚Äî Integer (—à—Ç–∞—Ç–Ω–∞ —á–∏—Å–µ–ª—å–Ω—ñ—Å—Ç—å)
- `currentStrength` ‚Äî Integer (–ø–æ—Ç–æ—á–Ω–∞ —á–∏—Å–µ–ª—å–Ω—ñ—Å—Ç—å)
- `createdAt`, `updatedAt`

**–í–∞–∂–ª–∏–≤–æ:** `parentUnit` ‚Äî —Ü–µ **self-referencing** –∑–≤'—è–∑–æ–∫:
```java
@ManyToOne(fetch = FetchType.LAZY)
@JoinColumn(name = "parent_unit_id")
private MilitaryUnit parentUnit;
```

---

#### Entity 3: `Personnel`

**–¢–∞–±–ª–∏—Ü—è:** `personnel`

**–ü–æ–ª—è:**
- `id` ‚Äî Long
- `militaryId` ‚Äî String, NOT NULL, UNIQUE, max 50
- `firstName`, `lastName`, `middleName` ‚Äî String
- `rank` ‚Äî Rank enum, NOT NULL
- `specialization` ‚Äî String, max 100 (–í–û–°)
- `unit` ‚Äî MilitaryUnit, @ManyToOne
- `contractStartDate` ‚Äî LocalDate, NOT NULL
- `contractEndDate` ‚Äî LocalDate, NOT NULL
- `securityClearance` ‚Äî SecurityClearance enum
- `medicalCategory` ‚Äî MedicalCategory enum
- `phoneNumber` ‚Äî String, max 20
- `email` ‚Äî String, max 100
- `createdAt`, `updatedAt`

**Enum:**

```java
package ua.edu.viti.military.entity;

public enum Rank {
    SOLDIER,           // –°–æ–ª–¥–∞—Ç
    SENIOR_SOLDIER,    // –°—Ç–∞—Ä—à–∏–π —Å–æ–ª–¥–∞—Ç
    JUNIOR_SERGEANT,   // –ú–æ–ª–æ–¥—à–∏–π —Å–µ—Ä–∂–∞–Ω—Ç
    SERGEANT,          // –°–µ—Ä–∂–∞–Ω—Ç
    SENIOR_SERGEANT,   // –°—Ç–∞—Ä—à–∏–π —Å–µ—Ä–∂–∞–Ω—Ç
    LIEUTENANT,        // –õ–µ–π—Ç–µ–Ω–∞–Ω—Ç
    SENIOR_LIEUTENANT, // –°—Ç–∞—Ä—à–∏–π –ª–µ–π—Ç–µ–Ω–∞–Ω—Ç
    CAPTAIN,           // –ö–∞–ø—ñ—Ç–∞–Ω
    MAJOR,             // –ú–∞–π–æ—Ä
    LIEUTENANT_COLONEL,// –ü—ñ–¥–ø–æ–ª–∫–æ–≤–Ω–∏–∫
    COLONEL            // –ü–æ–ª–∫–æ–≤–Ω–∏–∫
}
```

```java
package ua.edu.viti.military.entity;

public enum SecurityClearance {
    PUBLIC,            // –í—ñ–¥–∫—Ä–∏—Ç–∏–π
    CONFIDENTIAL,      // –ö–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–∏–π
    SECRET,            // –¢–∞—î–º–Ω–∏–π
    TOP_SECRET         // –¶—ñ–ª–∫–æ–º —Ç–∞—î–º–Ω–∏–π
}
```

```java
package ua.edu.viti.military.entity;

public enum MedicalCategory {
    A1, A2, A3,        // –ü—Ä–∏–¥–∞—Ç–Ω–∏–π
    B1, B2, B3,        // –ü—Ä–∏–¥–∞—Ç–Ω–∏–π –∑ –æ–±–º–µ–∂–µ–Ω–Ω—è–º–∏
    C, D               // –û–±–º–µ–∂–µ–Ω–æ –ø—Ä–∏–¥–∞—Ç–Ω–∏–π, –Ω–µ–ø—Ä–∏–¥–∞—Ç–Ω–∏–π
}
```

---

## üìä –ï–¢–ê–ü 3: REPOSITORY –Ü–ù–¢–ï–†–§–ï–ô–°–ò

### –ó–∞–≥–∞–ª—å–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞ Repository

**–í—Å—ñ Repository:**
1. –ó–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è –≤ –ø–∞–∫–µ—Ç—ñ `repository`
2. –Ñ **—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏** (–Ω–µ –∫–ª–∞—Å–∞–º–∏!)
3. Extends `JpaRepository<Entity, Long>`
4. –ú–∞—é—Ç—å –∞–Ω–æ—Ç–∞—Ü—ñ—é `@Repository` (–æ–ø—Ü—ñ–π–Ω–æ, –∞–ª–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

---

### –®–∞–±–ª–æ–Ω Repository

```java
package ua.edu.viti.military.repository;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.stereotype.Repository;
import ua.edu.viti.military.entity.–í–∞—àEntity;

@Repository
public interface –í–∞—àRepository extends JpaRepository<–í–∞—àEntity, Long> {

    // Query –º–µ—Ç–æ–¥–∏ –∑–∞ –∫–æ–Ω–≤–µ–Ω—Ü—ñ—î—é –Ω–∞–∑–≤

    // –ö–∞—Å—Ç–æ–º–Ω—ñ JPQL –∑–∞–ø–∏—Ç–∏ (–∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ)

}
```

---

### –û–±–æ–≤'—è–∑–∫–æ–≤—ñ –º–µ—Ç–æ–¥–∏ –¥–ª—è CategoryRepository

**–î–ª—è –í–°–Ü–• –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤** (–Ω–∞–∑–≤–∏ –∞–¥–∞–ø—Ç—É–π—Ç–µ –ø—ñ–¥ —Å–≤—ñ–π Entity):

```java
// 1. –ü–æ—à—É–∫ –ø–æ —ñ–º–µ–Ω—ñ
Optional<–í–∞—àCategory> findByName(String name);

// 2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è –ø–æ —ñ–º–µ–Ω—ñ
boolean existsByName(String name);

// 3. –ü–æ—à—É–∫ –ø–æ –∫–æ–¥—É
Optional<–í–∞—àCategory> findByCode(String code);

// 4. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è –ø–æ –∫–æ–¥—É
boolean existsByCode(String code);
```

**–ù–∞–≤—ñ—â–æ `Optional<>`?** –©–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ `NullPointerException`. –Ø–∫—â–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ ‚Äî –ø–æ–≤–µ—Ä—Ç–∞—î `Optional.empty()`.

---

### –û–±–æ–≤'—è–∑–∫–æ–≤—ñ –º–µ—Ç–æ–¥–∏ –¥–ª—è ItemRepository

**–ë–∞–∑–æ–≤—ñ –º–µ—Ç–æ–¥–∏ (–¥–ª—è –í–°–Ü–• –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤):**

```java
// 1. –ü–æ—à—É–∫ –ø–æ —É–Ω—ñ–∫–∞–ª—å–Ω–æ–º—É —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä—É
// –í–∞—Ä—ñ–∞–Ω—Ç A: findByBatchNumber
// –í–∞—Ä—ñ–∞–Ω—Ç B: findByRegistrationNumber
// –í–∞—Ä—ñ–∞–Ω—Ç C: findByMilitaryId
Optional<–í–∞—àItem> findBy–£–Ω—ñ–∫–∞–ª—å–Ω–∏–π–Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä(String identifier);

// 2. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è
boolean existsBy–£–Ω—ñ–∫–∞–ª—å–Ω–∏–π–Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä(String identifier);

// 3. –ü–æ—à—É–∫ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
List<–í–∞—àItem> findByCategoryId(Long categoryId);

// 4. –ü–æ—à—É–∫ –ø–æ —Å—Ç–∞—Ç—É—Å—É
List<–í–∞—àItem> findByStatus(ItemStatus status);

// 5. –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –ø–æ —Å—Ç–∞—Ç—É—Å—É
long countByStatus(ItemStatus status);
```

**–î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–µ—Ç–æ–¥–∏ (—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –¥–ª—è –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤):**

**–í–∞—Ä—ñ–∞–Ω—Ç A (–ú–¢–ó):**
```java
// –ó–Ω–∞–π—Ç–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏ –∑ —Ç–µ—Ä–º—ñ–Ω–æ–º –ø—Ä–∏–¥–∞—Ç–Ω–æ—Å—Ç—ñ —Ä–∞–Ω—ñ—à–µ –∑–∞–¥–∞–Ω–æ—ó –¥–∞—Ç–∏
List<SupplyItem> findByExpirationDateBefore(LocalDate date);

// –ó–Ω–∞–π—Ç–∏ –ø–æ —Å–∫–ª–∞–¥—É
List<SupplyItem> findByWarehouseId(Long warehouseId);

// –ó–Ω–∞–π—Ç–∏ –ø–æ –∫–ª–∞—Å—É –Ω–µ–±–µ–∑–ø–µ–∫–∏
List<SupplyItem> findByHazardClass(HazardClass hazardClass);

// –ó–Ω–∞–π—Ç–∏ –∑ –∫—ñ–ª—å–∫—ñ—Å—Ç—é –º–µ–Ω—à–µ –Ω—ñ–∂ X (–¥–ª—è —Å–ø–æ–≤—ñ—â–µ–Ω—å –ø—Ä–æ –Ω–∏–∑—å–∫—ñ –∑–∞–ª–∏—à–∫–∏)
List<SupplyItem> findByQuantityLessThan(Integer threshold);
```

**–í–∞—Ä—ñ–∞–Ω—Ç B (–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç):**
```java
// –ó–Ω–∞–π—Ç–∏ –ø–æ –≤–æ–¥—ñ—é
List<Vehicle> findByDriverId(Long driverId);

// –ó–Ω–∞–π—Ç–∏ –ø–æ —Ç–∏–ø—É –ø–∞–ª–∏–≤–∞
List<Vehicle> findByFuelType(FuelType fuelType);

// –ó–Ω–∞–π—Ç–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç —â–æ –ø–æ—Ç—Ä–µ–±—É—î –¢–û
// (currentMileage - lastMaintenanceMileage >= maintenanceIntervalKm)
@Query("SELECT v FROM Vehicle v WHERE " +
       "(v.mileage - v.lastMaintenanceMileage) >= v.maintenanceIntervalKm")
List<Vehicle> findVehiclesRequiringMaintenance();

// –ó–Ω–∞–π—Ç–∏ –ø–æ –ø—Ä–æ–º—ñ–∂–∫—É –ø—Ä–æ–±—ñ–≥—É
List<Vehicle> findByMileageBetween(Integer minMileage, Integer maxMileage);
```

**–í–∞—Ä—ñ–∞–Ω—Ç C (–ü–µ—Ä—Å–æ–Ω–∞–ª):**
```java
// –ó–Ω–∞–π—Ç–∏ –ø–æ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—É
List<Personnel> findByUnitId(Long unitId);

// –ó–Ω–∞–π—Ç–∏ –ø–æ –∑–≤–∞–Ω–Ω—é
List<Personnel> findByRank(Rank rank);

// –ó–Ω–∞–π—Ç–∏ –∑ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–º —â–æ –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è —Å–∫–æ—Ä–æ
List<Personnel> findByContractEndDateBefore(LocalDate date);

// –ó–Ω–∞–π—Ç–∏ –ø–æ —Ä—ñ–≤–Ω—é –¥–æ–ø—É—Å–∫—É
List<Personnel> findBySecurityClearance(SecurityClearance clearance);

// –ó–Ω–∞–π—Ç–∏ –ø–æ —Å–ø–µ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó
List<Personnel> findBySpecializationContaining(String keyword);
```

---

### –ü—Ä–∏–∫–ª–∞–¥ JPQL –∑–∞–ø–∏—Ç—É –∑ JOIN FETCH

**–ü—Ä–æ–±–ª–µ–º–∞ N+1:** –Ø–∫—â–æ –≤–∏ —Ä–æ–±–∏—Ç–µ:
```java
List<SupplyItem> items = repository.findAll();
for (SupplyItem item : items) {
    System.out.println(item.getCategory().getName()); // <- N –æ–∫—Ä–µ–º–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤!
}
```

**–†—ñ—à–µ–Ω–Ω—è ‚Äî JOIN FETCH:**
```java
@Query("SELECT i FROM –í–∞—àItem i JOIN FETCH i.category WHERE i.status = :status")
List<–í–∞—àItem> findByStatusWithCategory(@Param("status") ItemStatus status);
```

–¶–µ **–æ–¥–∏–Ω** –∑–∞–ø–∏—Ç –∑–∞–º—ñ—Å—Ç—å N+1!

---

### Repository –¥–ª—è Location/Person Entity

**–í–∞—Ä—ñ–∞–Ω—Ç A (Warehouse):**
```java
@Repository
public interface WarehouseRepository extends JpaRepository<Warehouse, Long> {
    Optional<Warehouse> findByCode(String code);
    boolean existsByCode(String code);
    List<Warehouse> findByHasRefrigeration(Boolean hasRefrigeration);
}
```

**–í–∞—Ä—ñ–∞–Ω—Ç B (Driver):**
```java
@Repository
public interface DriverRepository extends JpaRepository<Driver, Long> {
    Optional<Driver> findByMilitaryId(String militaryId);
    Optional<Driver> findByLicenseNumber(String licenseNumber);
    List<Driver> findByIsActive(Boolean isActive);
    List<Driver> findByLicenseExpiryDateBefore(LocalDate date);
}
```

**–í–∞—Ä—ñ–∞–Ω—Ç C (MilitaryUnit):**
```java
@Repository
public interface MilitaryUnitRepository extends JpaRepository<MilitaryUnit, Long> {
    Optional<MilitaryUnit> findByCode(String code);
    List<MilitaryUnit> findByUnitTypeId(Long unitTypeId);
    List<MilitaryUnit> findByParentUnitId(Long parentUnitId);
    
    @Query("SELECT u FROM MilitaryUnit u WHERE u.parentUnit IS NULL")
    List<MilitaryUnit> findTopLevelUnits();
}
```

---

## üíº –ï–¢–ê–ü 4: DTO –ö–õ–ê–°–ò

### –ù–∞–≤—ñ—â–æ –ø–æ—Ç—Ä—ñ–±–Ω—ñ DTO?

**–ü—Ä–æ–±–ª–µ–º–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Entity –Ω–∞–ø—Ä—è–º—É:**
```java
// ‚ùå –ü–û–ì–ê–ù–û - –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ Entity –∑ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞
@GetMapping("/{id}")
public ResponseEntity<SupplyItem> getItem(@PathVariable Long id) {
    return ResponseEntity.ok(itemService.findById(id));
}
```

**–ß–æ–º—É —Ü–µ –ø–æ–≥–∞–Ω–æ:**
1. **–¶–∏–∫–ª—ñ—á–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ** ‚Äî Entity –º–∞—î –∑–≤'—è–∑–∫–∏, Jackson –Ω–µ –º–æ–∂–µ —Å–µ—Ä—ñ–∞–ª—ñ–∑—É–≤–∞—Ç–∏
2. **LazyInitializationException** ‚Äî –∫–æ–ª–∏ —Å–ø—Ä–æ–±—É—î—Ç–µ –∑–≤–µ—Ä–Ω—É—Ç–∏—Å—è –¥–æ lazy –ø–æ–ª—è
3. **–ù–∞–¥–º—ñ—Ä–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è** ‚Äî –Ω–µ –≤—Å—ñ –ø–æ–ª—è —Ç—Ä–µ–±–∞ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ –∫–ª—ñ—î–Ω—Ç—É
4. **–ó–º—ñ—à—É–≤–∞–Ω–Ω—è concerns** ‚Äî Entity –¥–ª—è –ë–î, DTO –¥–ª—è API

**–†—ñ—à–µ–Ω–Ω—è ‚Äî DTO:**
```java
// ‚úÖ –î–û–ë–†–ï - –ø–æ–≤–µ—Ä—Ç–∞—î–º–æ DTO
@GetMapping("/{id}")
public ResponseEntity<ItemResponseDTO> getItem(@PathVariable Long id) {
    return ResponseEntity.ok(itemService.findById(id));
}
```

---

### –¢–∏–ø–∏ DTO

**–î–ª—è –∫–æ–∂–Ω–æ–≥–æ Entity —Å—Ç–≤–æ—Ä—é—î–º–æ 3 —Ç–∏–ø–∏ DTO:**

1. **ResponseDTO** ‚Äî –¥–ª—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π API (GET)
   - –ú—ñ—Å—Ç–∏—Ç—å **–≤—Å—ñ** –ø–æ–ª—è —â–æ —Ç—Ä–µ–±–∞ –ø–æ–∫–∞–∑–∞—Ç–∏ –∫–ª—ñ—î–Ω—Ç—É
   - –í–∫–ª—é—á–∞—î –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±'—î–∫—Ç–∏ (CategoryDTO –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ ItemDTO)
   
2. **CreateDTO** ‚Äî –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è (POST)
   - **–ë–ï–ó** `id` (–±—É–¥–µ –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω–∏–π)
   - **–ó** –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é (@NotNull, @NotBlank, @Size...)
   
3. **UpdateDTO** ‚Äî –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è (PUT)
   - **–ó** `id`
   - –¢—ñ–ª—å–∫–∏ –ø–æ–ª—è —â–æ **–º–æ–∂–Ω–∞** –∑–º—ñ–Ω—é–≤–∞—Ç–∏

---

### –ü—Ä–∏–∫–ª–∞–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ DTO (–í–∞—Ä—ñ–∞–Ω—Ç A ‚Äî –ú–¢–ó)

#### CategoryResponseDTO

```java
package ua.edu.viti.military.dto.response;

import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.time.LocalDateTime;

@Data
@NoArgsConstructor
@AllArgsConstructor
public class SupplyCategoryResponseDTO {
    private Long id;
    private String name;
    private String code;
    private String description;
    private Boolean requiresColdStorage;
    private LocalDateTime createdAt;
    private LocalDateTime updatedAt;
}
```

**–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É:**
- –í—Å—ñ –ø–æ–ª—è –∑ Entity
- Lombok –≥–µ–Ω–µ—Ä—É—î getters/setters –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- –¶–µ POJO (Plain Old Java Object) ‚Äî –Ω—ñ—á–æ–≥–æ —Å–∫–ª–∞–¥–Ω–æ–≥–æ!

---

#### CategoryCreateDTO

```java
package ua.edu.viti.military.dto.request;

import jakarta.validation.constraints.NotBlank;
import jakarta.validation.constraints.Size;
import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

@Data
@NoArgsConstructor
@AllArgsConstructor
public class SupplyCategoryCreateDTO {

    @NotBlank(message = "–ù–∞–∑–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –æ–±–æ–≤'—è–∑–∫–æ–≤–∞")
    @Size(max = 100, message = "–ù–∞–∑–≤–∞ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –¥–æ–≤—à–æ—é –∑–∞ 100 —Å–∏–º–≤–æ–ª—ñ–≤")
    private String name;

    @NotBlank(message = "–ö–æ–¥ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π")
    @Size(max = 20, message = "–ö–æ–¥ –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –¥–æ–≤—à–∏–º –∑–∞ 20 —Å–∏–º–≤–æ–ª—ñ–≤")
    private String code;

    @Size(max = 500, message = "–û–ø–∏—Å –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –¥–æ–≤—à–∏–º –∑–∞ 500 —Å–∏–º–≤–æ–ª—ñ–≤")
    private String description;

    private Boolean requiresColdStorage = false; // –ó–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
}
```

**–í–∞–∂–ª–∏–≤—ñ –∞–Ω–æ—Ç–∞—Ü—ñ—ó –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó:**
- `@NotNull` ‚Äî –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ null
- `@NotBlank` ‚Äî –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ null, –ø–æ—Ä–æ–∂–Ω—ñ–º —Ä—è–¥–∫–æ–º –∞–±–æ —Ç—ñ–ª—å–∫–∏ –ø—Ä–æ–±—ñ–ª–∞–º–∏
- `@Size(min=X, max=Y)` ‚Äî –æ–±–º–µ–∂–µ–Ω–Ω—è –¥–æ–≤–∂–∏–Ω–∏
- `@Min`, `@Max` ‚Äî –¥–ª—è —á–∏—Å–µ–ª
- `@Email` ‚Äî –¥–ª—è email
- `@Pattern(regexp="...")` ‚Äî —Ä–µ–≥—É–ª—è—Ä–Ω–∏–π –≤–∏—Ä–∞–∑

---

#### ItemResponseDTO (–∑ –≤–∫–ª–∞–¥–µ–Ω–æ—é CategoryDTO)

```java
package ua.edu.viti.military.dto.response;

import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;
import ua.edu.viti.military.entity.HazardClass;
import ua.edu.viti.military.entity.ItemStatus;

import java.time.LocalDate;
import java.time.LocalDateTime;

@Data
@NoArgsConstructor
@AllArgsConstructor
public class SupplyItemResponseDTO {
    private Long id;
    private String name;
    private String batchNumber;

    // –í–∫–ª–∞–¥–µ–Ω–∞ CategoryDTO –∑–∞–º—ñ—Å—Ç—å –≤—Å—å–æ–≥–æ –æ–±'—î–∫—Ç—É Category
    private SupplyCategoryResponseDTO category;

    private Integer quantity;
    private String unit;
    private LocalDate expirationDate;
    private HazardClass hazardClass;
    private String storageConditions;

    // –¢—ñ–ª—å–∫–∏ ID —Å–∫–ª–∞–¥—É, –±–µ–∑ –ø–æ–≤–Ω–æ–≥–æ –æ–±'—î–∫—Ç—É (—â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ —Ü–∏–∫–ª—ñ–≤)
    private Long warehouseId;
    private String warehouseName; // –ù–∞–∑–≤—É –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ

    private ItemStatus status;
    private LocalDateTime createdAt;
    private LocalDateTime updatedAt;
}
```

---

#### ItemCreateDTO

```java
package ua.edu.viti.military.dto.request;

import jakarta.validation.constraints.*;
import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;
import ua.edu.viti.military.entity.HazardClass;

import java.time.LocalDate;

@Data
@NoArgsConstructor
@AllArgsConstructor
public class SupplyItemCreateDTO {

    @NotBlank(message = "–ù–∞–∑–≤–∞ –º–∞—Ç–µ—Ä—ñ–∞–ª—É –æ–±–æ–≤'—è–∑–∫–æ–≤–∞")
    @Size(max = 200)
    private String name;

    @NotBlank(message = "–ù–æ–º–µ—Ä –ø–∞—Ä—Ç—ñ—ó –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π")
    @Size(max = 50)
    private String batchNumber;

    @NotNull(message = "–ö–∞—Ç–µ–≥–æ—Ä—ñ—è –æ–±–æ–≤'—è–∑–∫–æ–≤–∞")
    @Positive(message = "ID –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –º–∞—î –±—É—Ç–∏ –ø–æ–∑–∏—Ç–∏–≤–Ω–∏–º")
    private Long categoryId;

    @NotNull(message = "–ö—ñ–ª—å–∫—ñ—Å—Ç—å –æ–±–æ–≤'—è–∑–∫–æ–≤–∞")
    @Positive(message = "–ö—ñ–ª—å–∫—ñ—Å—Ç—å –º–∞—î –±—É—Ç–∏ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ—é")
    private Integer quantity;

    @Size(max = 20)
    private String unit = "—à—Ç";

    @Future(message = "–¢–µ—Ä–º—ñ–Ω –ø—Ä–∏–¥–∞—Ç–Ω–æ—Å—Ç—ñ –º–∞—î –±—É—Ç–∏ –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É")
    private LocalDate expirationDate;

    @NotNull(message = "–ö–ª–∞—Å –Ω–µ–±–µ–∑–ø–µ–∫–∏ –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π")
    private HazardClass hazardClass;

    @Size(max = 200)
    private String storageConditions;

    private Long warehouseId; // –ú–æ–∂–µ –±—É—Ç–∏ NULL - —Ç–æ–¥—ñ –±–µ–∑ —Å–∫–ª–∞–¥—É
}
```

**–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É:**
- –ó–∞–º—ñ—Å—Ç—å `category` (–æ–±'—î–∫—Ç) ‚Äî `categoryId` (Long)
- `@Future` ‚Äî –¥–∞—Ç–∞ –º–∞—î –±—É—Ç–∏ –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É
- –ú–æ–∂–Ω–∞ –∑–∞–¥–∞—Ç–∏ default –∑–Ω–∞—á–µ–Ω–Ω—è: `private String unit = "—à—Ç";`

---

#### ItemUpdateDTO

```java
package ua.edu.viti.military.dto.request;

import jakarta.validation.constraints.*;
import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;
import ua.edu.viti.military.entity.ItemStatus;

import java.time.LocalDate;

@Data
@NoArgsConstructor
@AllArgsConstructor
public class SupplyItemUpdateDTO {

    // –¢—ñ–ª—å–∫–∏ –ø–æ–ª—è —â–æ –ú–û–ñ–ù–ê –∑–º—ñ–Ω—é–≤–∞—Ç–∏
    // –ù–µ –º–æ–∂–Ω–∞ –º—ñ–Ω—è—Ç–∏: batchNumber (—É–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä), createdAt

    @Size(max = 200)
    private String name;

    @Positive
    private Integer quantity;

    @Future
    private LocalDate expirationDate;

    @Size(max = 200)
    private String storageConditions;

    private Long warehouseId;

    private ItemStatus status;
}
```

**–†—ñ–∑–Ω–∏—Ü—è –∑ CreateDTO:**
- –ù–µ–º–∞—î `@NotNull` ‚Äî –≤—Å—ñ –ø–æ–ª—è –æ–ø—Ü—ñ–π–Ω—ñ (partial update)
- –¢—ñ–ª—å–∫–∏ —Ç–µ —â–æ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏

---

### –ó–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è –∫—É—Ä—Å–∞–Ω—Ç—ñ–≤

**–°—Ç–≤–æ—Ä—ñ—Ç—å DTO –∫–ª–∞—Å–∏ –¥–ª—è –í–ê–®–û–ì–û –≤–∞—Ä—ñ–∞–Ω—Ç—É:**

1. –î–ª—è Category Entity:
   - `XxxCategoryResponseDTO`
   - `XxxCategoryCreateDTO`
   
2. –î–ª—è Item Entity:
   - `XxxItemResponseDTO` (–∑ –≤–∫–ª–∞–¥–µ–Ω–∏–º CategoryDTO)
   - `XxxItemCreateDTO`
   - `XxxItemUpdateDTO`
   
3. –î–ª—è Location/Person Entity:
   - `XxxResponseDTO`
   - `XxxCreateDTO`

**–ü—ñ–¥–∫–∞–∑–∫–∏:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ –∞–Ω–æ—Ç–∞—Ü—ñ—ó –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
- –î–ª—è –∑–≤'—è–∑–∫—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ ID –∑–∞–º—ñ—Å—Ç—å –æ–±'—î–∫—Ç—ñ–≤ —É CreateDTO
- ResponseDTO –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏ –≤–∫–ª–∞–¥–µ–Ω—ñ –æ–±'—î–∫—Ç–∏
- UpdateDTO ‚Äî —Ç—ñ–ª—å–∫–∏ –ø–æ–ª—è —â–æ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏

---

## üõ†Ô∏è –ï–¢–ê–ü 5: SERVICE LAYER

### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ Service Layer

**Service Layer –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞:**
1. **–ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É** ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏, —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏, –ø—Ä–∞–≤–∏–ª–∞
2. **–ú–∞–ø–ø—ñ–Ω–≥** Entity ‚Üî DTO
3. **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è–º–∏** (@Transactional)
4. **–û–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫** ‚Äî –≤–∏–∫–∏–¥–∞–Ω–Ω—è Exception

**Service –ù–ï –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞:**
- HTTP –∑–∞–ø–∏—Ç–∏/–≤—ñ–¥–ø–æ–≤—ñ–¥—ñ (—Ü–µ Controller)
- –†–æ–±–æ—Ç—É –∑ –ë–î –Ω–∞–ø—Ä—è–º—É (—Ü–µ Repository)
- –°–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é JSON (—Ü–µ Jackson)

---

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Service –∫–ª–∞—Å—É

```java
package ua.edu.viti.military.service;

import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;
import ua.edu.viti.military.dto.request.*;
import ua.edu.viti.military.dto.response.*;
import ua.edu.viti.military.entity.*;
import ua.edu.viti.military.exception.*;
import ua.edu.viti.military.repository.*;

@Service
@RequiredArgsConstructor  // Lombok —Å—Ç–≤–æ—Ä–∏—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–ª—è final –ø–æ–ª—ñ–≤
@Slf4j                    // Lombok –¥–æ–¥–∞—Å—Ç—å –ª–æ–≥–µ—Ä
@Transactional(readOnly = true)  // –í—Å—ñ –º–µ—Ç–æ–¥–∏ read-only –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
public class –í–∞—àItemService {

    private final –í–∞—àItemRepository itemRepository;
    private final –í–∞—àCategoryRepository categoryRepository;
    // –Ü–Ω—à—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ...

    // CRUD –º–µ—Ç–æ–¥–∏

    // –ú–∞–ø–ø—ñ–Ω–≥ –º–µ—Ç–æ–¥–∏
}
```

**–í–∞–∂–ª–∏–≤—ñ –∞–Ω–æ—Ç–∞—Ü—ñ—ó:**
- `@Service` ‚Äî –ø–æ–∑–Ω–∞—á–∞—î —Ü–µ —è–∫ Spring bean
- `@RequiredArgsConstructor` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π DI —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
- `@Slf4j` ‚Äî –¥–æ–¥–∞—î `log` –∑–º—ñ–Ω–Ω—É –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
- `@Transactional(readOnly = true)` ‚Äî read-only —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó (–æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è)

---

### CRUD –º–µ—Ç–æ–¥–∏ –≤ Service

#### 1. CREATE (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è)

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
```
1. –í–∞–ª—ñ–¥—É–≤–∞—Ç–∏ –≤—Ö—ñ–¥–Ω—ñ –¥–∞–Ω—ñ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —á–µ—Ä–µ–∑ @Valid)
2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å (batchNumber/registrationNumber/militaryId)
3. –Ø–∫—â–æ –≤–∂–µ —ñ—Å–Ω—É—î ‚Üí –∫–∏–Ω—É—Ç–∏ DuplicateResourceException
4. –ó–Ω–∞–π—Ç–∏ –ø–æ–≤'—è–∑–∞–Ω—ñ Entity (Category, Warehouse...)
5. –Ø–∫—â–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ ‚Üí –∫–∏–Ω—É—Ç–∏ ResourceNotFoundException
6. –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π Entity –æ–±'—î–∫—Ç
7. –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ –ø–æ–ª—è –∑ DTO
8. –ó–∞–¥–∞—Ç–∏ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞—Ç—É—Å
9. –ó–±–µ—Ä–µ–≥—Ç–∏ –≤ –ë–î —á–µ—Ä–µ–∑ Repository
10. –ö–æ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏ Entity ‚Üí ResponseDTO
11. –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ DTO
```

**–ü—Ä–∏–∫–ª–∞–¥ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó:**

```java
@Transactional  // –¶–µ –æ–ø–µ—Ä–∞—Ü—ñ—è –∑–º—ñ–Ω–∏ –¥–∞–Ω–∏—Ö - –∑–Ω—ñ–º–∞—î–º–æ readOnly
public SupplyItemResponseDTO create(SupplyItemCreateDTO dto) {
    log.info("Creating new supply item with batch number: {}", dto.getBatchNumber());
    
    // 1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —É–Ω—ñ–∫–∞–ª—å–Ω–æ—Å—Ç—ñ
    if (itemRepository.existsByBatchNumber(dto.getBatchNumber())) {
        throw new DuplicateResourceException(
            "–ú–∞—Ç–µ—Ä—ñ–∞–ª –∑ –ø–∞—Ä—Ç—ñ—î—é " + dto.getBatchNumber() + " –≤–∂–µ —ñ—Å–Ω—É—î"
        );
    }
    
    // 2. –ó–Ω–∞–π—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é
    SupplyCategory category = categoryRepository.findById(dto.getCategoryId())
        .orElseThrow(() -> new ResourceNotFoundException(
            "–ö–∞—Ç–µ–≥–æ—Ä—ñ—é –∑ ID " + dto.getCategoryId() + " –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
        ));
    
    // 3. –ó–Ω–∞–π—Ç–∏ —Å–∫–ª–∞–¥ (—è–∫—â–æ –≤–∫–∞–∑–∞–Ω–æ)
    Warehouse warehouse = null;
    if (dto.getWarehouseId() != null) {
        warehouse = warehouseRepository.findById(dto.getWarehouseId())
            .orElseThrow(() -> new ResourceNotFoundException(
                "–°–∫–ª–∞–¥ –∑ ID " + dto.getWarehouseId() + " –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
            ));
    }
    
    // 4. –°—Ç–≤–æ—Ä–∏—Ç–∏ Entity
    SupplyItem item = new SupplyItem();
    item.setName(dto.getName());
    item.setBatchNumber(dto.getBatchNumber());
    item.setCategory(category);
    item.setQuantity(dto.getQuantity());
    item.setUnit(dto.getUnit());
    item.setExpirationDate(dto.getExpirationDate());
    item.setHazardClass(dto.getHazardClass());
    item.setStorageConditions(dto.getStorageConditions());
    item.setWarehouse(warehouse);
    item.setStatus(ItemStatus.IN_STOCK);  // –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞—Ç—É—Å
    
    // 5. –ó–±–µ—Ä–µ–≥—Ç–∏
    SupplyItem saved = itemRepository.save(item);
    log.info("Supply item created with ID: {}", saved.getId());
    
    // 6. –ö–æ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏ –≤ DTO
    return toResponseDTO(saved);
}
```

**–í–∞–∂–ª–∏–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**
- `@Transactional` –±–µ–∑ `readOnly` ‚Äî —Ü–µ –æ–ø–µ—Ä–∞—Ü—ñ—è –∑–º—ñ–Ω–∏
- –õ–æ–≥—É–≤–∞–Ω–Ω—è –≤–∞–∂–ª–∏–≤–∏—Ö –ø–æ–¥—ñ–π —á–µ—Ä–µ–∑ `log.info()`
- –í–∏–∫–∏–¥–∞–Ω–Ω—è –≤–∏–∫–ª—é—á–µ–Ω—å –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö
- –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ –¥–ª—è —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ

---

#### 2. READ (—á–∏—Ç–∞–Ω–Ω—è)

**–ú–µ—Ç–æ–¥ getById:**

```java
public SupplyItemResponseDTO getById(Long id) {
    log.debug("Fetching supply item with ID: {}", id);
    
    SupplyItem item = itemRepository.findById(id)
        .orElseThrow(() -> new ResourceNotFoundException(
            "–ú–∞—Ç–µ—Ä—ñ–∞–ª –∑ ID " + id + " –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
        ));
    
    return toResponseDTO(item);
}
```

**–ú–µ—Ç–æ–¥ getAll (–∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó):**

```java
public List<SupplyItemResponseDTO> getAll(ItemStatus status, Long categoryId) {
    log.debug("Fetching all items with status: {}, categoryId: {}", status, categoryId);
    
    List<SupplyItem> items;
    
    if (status != null && categoryId != null) {
        // –û–±–∏–¥–≤–∞ —Ñ—ñ–ª—å—Ç—Ä–∏
        items = itemRepository.findByStatusAndCategoryId(status, categoryId);
    } else if (status != null) {
        // –¢—ñ–ª—å–∫–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É
        items = itemRepository.findByStatus(status);
    } else if (categoryId != null) {
        // –¢—ñ–ª—å–∫–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
        items = itemRepository.findByCategoryId(categoryId);
    } else {
        // –ë–µ–∑ —Ñ—ñ–ª—å—Ç—Ä—ñ–≤
        items = itemRepository.findAll();
    }
    
    return items.stream()
        .map(this::toResponseDTO)
        .collect(Collectors.toList());
}
```

**–ó–≤–µ—Ä–Ω—ñ—Ç—å —É–≤–∞–≥—É:**
- `stream().map(this::toResponseDTO)` ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è —Å–ø–∏—Å–∫—É Entity ‚Üí DTO
- –†—ñ–∑–Ω—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó
- `log.debug()` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ª–æ–≥—É–≤–∞–Ω–Ω—è

---

#### 3. UPDATE (–æ–Ω–æ–≤–ª–µ–Ω–Ω—è)

```java
@Transactional
public SupplyItemResponseDTO update(Long id, SupplyItemUpdateDTO dto) {
    log.info("Updating supply item with ID: {}", id);
    
    // 1. –ó–Ω–∞–π—Ç–∏ —ñ—Å–Ω—É—é—á–∏–π –∑–∞–ø–∏—Å
    SupplyItem item = itemRepository.findById(id)
        .orElseThrow(() -> new ResourceNotFoundException(
            "–ú–∞—Ç–µ—Ä—ñ–∞–ª –∑ ID " + id + " –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
        ));
    
    // 2. –û–Ω–æ–≤–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ —Ç—ñ –ø–æ–ª—è —â–æ –ø–µ—Ä–µ–¥–∞–Ω—ñ (–Ω–µ null)
    if (dto.getName() != null) {
        item.setName(dto.getName());
    }
    if (dto.getQuantity() != null) {
        item.setQuantity(dto.getQuantity());
    }
    if (dto.getExpirationDate() != null) {
        item.setExpirationDate(dto.getExpirationDate());
    }
    if (dto.getStorageConditions() != null) {
        item.setStorageConditions(dto.getStorageConditions());
    }
    if (dto.getWarehouseId() != null) {
        Warehouse warehouse = warehouseRepository.findById(dto.getWarehouseId())
            .orElseThrow(() -> new ResourceNotFoundException(
                "–°–∫–ª–∞–¥ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
            ));
        item.setWarehouse(warehouse);
    }
    if (dto.getStatus() != null) {
        item.setStatus(dto.getStatus());
    }
    
    // 3. –ó–±–µ—Ä–µ–≥—Ç–∏ (Hibernate –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑—Ä–æ–±–∏—Ç—å UPDATE)
    SupplyItem updated = itemRepository.save(item);
    log.info("Supply item with ID {} updated successfully", id);
    
    return toResponseDTO(updated);
}
```

---

#### 4. DELETE (–≤–∏–¥–∞–ª–µ–Ω–Ω—è)

```java
@Transactional
public void delete(Long id) {
    log.info("Deleting supply item with ID: {}", id);
    
    // 1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —â–æ —ñ—Å–Ω—É—î
    if (!itemRepository.existsById(id)) {
        throw new ResourceNotFoundException(
            "–ú–∞—Ç–µ—Ä—ñ–∞–ª –∑ ID " + id + " –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
        );
    }
    
    // 2. –í–∏–¥–∞–ª–∏—Ç–∏
    itemRepository.deleteById(id);
    log.info("Supply item with ID {} deleted successfully", id);
}
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ (soft delete):**

```java
@Transactional
public void softDelete(Long id) {
    SupplyItem item = itemRepository.findById(id)
        .orElseThrow(() -> new ResourceNotFoundException("–ù–µ –∑–Ω–∞–π–¥–µ–Ω–æ"));
    
    item.setStatus(ItemStatus.WRITTEN_OFF); // –ù–µ –≤–∏–¥–∞–ª—è—î–º–æ, –∞ –∑–º—ñ–Ω—é—î–º–æ —Å—Ç–∞—Ç—É—Å
    itemRepository.save(item);
    
    log.info("Supply item with ID {} marked as WRITTEN_OFF", id);
}
```

Soft delete –∫—Ä–∞—â–µ –¥–ª—è –∞—É–¥–∏—Ç—É ‚Äî –¥–∞–Ω—ñ –∑–∞–ª–∏—à–∞—é—Ç—å—Å—è –≤ –ë–î.

---

### –ú–∞–ø–ø—ñ–Ω–≥ –º–µ—Ç–æ–¥–∏ (Entity ‚Üî DTO)

#### Entity ‚Üí ResponseDTO

```java
private SupplyItemResponseDTO toResponseDTO(SupplyItem entity) {
    SupplyItemResponseDTO dto = new SupplyItemResponseDTO();
    
    dto.setId(entity.getId());
    dto.setName(entity.getName());
    dto.setBatchNumber(entity.getBatchNumber());
    
    // –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è –≤–∫–ª–∞–¥–µ–Ω–æ—ó Category
    dto.setCategory(toCategoryDTO(entity.getCategory()));
    
    dto.setQuantity(entity.getQuantity());
    dto.setUnit(entity.getUnit());
    dto.setExpirationDate(entity.getExpirationDate());
    dto.setHazardClass(entity.getHazardClass());
    dto.setStorageConditions(entity.getStorageConditions());
    
    // Warehouse ‚Äî —Ç—ñ–ª—å–∫–∏ ID —Ç–∞ –Ω–∞–∑–≤–∞
    if (entity.getWarehouse() != null) {
        dto.setWarehouseId(entity.getWarehouse().getId());
        dto.setWarehouseName(entity.getWarehouse().getName());
    }
    
    dto.setStatus(entity.getStatus());
    dto.setCreatedAt(entity.getCreatedAt());
    dto.setUpdatedAt(entity.getUpdatedAt());
    
    return dto;
}

private SupplyCategoryResponseDTO toCategoryDTO(SupplyCategory entity) {
    SupplyCategoryResponseDTO dto = new SupplyCategoryResponseDTO();
    dto.setId(entity.getId());
    dto.setName(entity.getName());
    dto.setCode(entity.getCode());
    dto.setDescription(entity.getDescription());
    dto.setRequiresColdStorage(entity.getRequiresColdStorage());
    dto.setCreatedAt(entity.getCreatedAt());
    dto.setUpdatedAt(entity.getUpdatedAt());
    return dto;
}
```

**–ß–æ–º—É –æ–∫—Ä–µ–º—ñ –º–µ—Ç–æ–¥–∏?**
- –ü–µ—Ä–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–æ–¥—É
- –ß–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å
- –õ–µ–≥—à–µ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –£ Stage 2 –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ MapStruct –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –º–∞–ø–ø—ñ–Ω–≥—É, –∞–ª–µ –∑–∞—Ä–∞–∑ —Ä–æ–±–∏–º–æ –≤—Ä—É—á–Ω—É –¥–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è –ø—Ä–æ—Ü–µ—Å—É.

---

### –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ (—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∞ –¥–ª—è –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤)

#### –í–∞—Ä—ñ–∞–Ω—Ç A: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–µ—Ä–º—ñ–Ω—É –ø—Ä–∏–¥–∞—Ç–Ω–æ—Å—Ç—ñ

```java
private void validateExpirationDate(LocalDate expirationDate) {
    if (expirationDate != null && expirationDate.isBefore(LocalDate.now())) {
        throw new BusinessLogicException(
            "–ù–µ –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª –∑ –º–∏–Ω—É–ª–∏–º —Ç–µ—Ä–º—ñ–Ω–æ–º –ø—Ä–∏–¥–∞—Ç–Ω–æ—Å—Ç—ñ"
        );
    }
}

public List<SupplyItemResponseDTO> findExpiringSoon(int daysThreshold) {
    LocalDate thresholdDate = LocalDate.now().plusDays(daysThreshold);
    
    List<SupplyItem> expiring = itemRepository.findByExpirationDateBefore(thresholdDate);
    
    return expiring.stream()
        .filter(item -> item.getExpirationDate().isAfter(LocalDate.now()))
        .map(this::toResponseDTO)
        .collect(Collectors.toList());
}
```

---

#### –í–∞—Ä—ñ–∞–Ω—Ç B: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –¢–û

```java
public List<VehicleResponseDTO> findVehiclesRequiringMaintenance() {
    return vehicleRepository.findVehiclesRequiringMaintenance()
        .stream()
        .map(this::toResponseDTO)
        .collect(Collectors.toList());
}

private void validateMaintenanceStatus(Vehicle vehicle) {
    int kmSinceLastMaintenance = vehicle.getMileage() - vehicle.getLastMaintenanceMileage();
    
    if (kmSinceLastMaintenance >= vehicle.getMaintenanceIntervalKm()) {
        throw new BusinessLogicException(
            String.format("–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –ø–æ—Ç—Ä–µ–±—É—î –¢–û! –ü—Ä–æ–±—ñ–≥ –ø—ñ—Å–ª—è –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –¢–û: %d –∫–º",
                kmSinceLastMaintenance)
        );
    }
}
```

---

#### –í–∞—Ä—ñ–∞–Ω—Ç C: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–µ—Ä–º—ñ–Ω—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É

```java
public List<PersonnelResponseDTO> findContractsExpiringSoon(int daysThreshold) {
    LocalDate thresholdDate = LocalDate.now().plusDays(daysThreshold);
    
    return personnelRepository.findByContractEndDateBefore(thresholdDate)
        .stream()
        .filter(p -> p.getContractEndDate().isAfter(LocalDate.now()))
        .map(this::toResponseDTO)
        .collect(Collectors.toList());
}

private void validateContractActive(Personnel personnel) {
    if (personnel.getContractEndDate().isBefore(LocalDate.now())) {
        throw new BusinessLogicException(
            "–ö–æ–Ω—Ç—Ä–∞–∫—Ç –∑–∞–∫—ñ–Ω—á–∏–≤—Å—è " + personnel.getContractEndDate()
        );
    }
}
```

---

### Service –¥–ª—è Category —Ç–∞ Location/Person

**CategoryService** ‚Äî –ø—Ä–æ—Å—Ç—ñ—à–∏–π, –±–µ–∑ —Å–∫–ª–∞–¥–Ω–æ—ó –ª–æ–≥—ñ–∫–∏:

```java
@Service
@RequiredArgsConstructor
@Slf4j
@Transactional(readOnly = true)
public class SupplyCategoryService {
    
    private final SupplyCategoryRepository categoryRepository;
    
    @Transactional
    public SupplyCategoryResponseDTO create(SupplyCategoryCreateDTO dto) {
        if (categoryRepository.existsByCode(dto.getCode())) {
            throw new DuplicateResourceException("–ö–æ–¥ –≤–∂–µ —ñ—Å–Ω—É—î");
        }
        
        SupplyCategory category = new SupplyCategory();
        category.setName(dto.getName());
        category.setCode(dto.getCode());
        category.setDescription(dto.getDescription());
        category.setRequiresColdStorage(dto.getRequiresColdStorage());
        
        SupplyCategory saved = categoryRepository.save(category);
        return toResponseDTO(saved);
    }
    
    public SupplyCategoryResponseDTO getById(Long id) {
        return categoryRepository.findById(id)
            .map(this::toResponseDTO)
            .orElseThrow(() -> new ResourceNotFoundException("–ö–∞—Ç–µ–≥–æ—Ä—ñ—é –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"));
    }
    
    public List<SupplyCategoryResponseDTO> getAll() {
        return categoryRepository.findAll()
            .stream()
            .map(this::toResponseDTO)
            .collect(Collectors.toList());
    }
    
    // update, delete, –º–∞–ø–ø—ñ–Ω–≥...
}
```

---

## üö® –ï–¢–ê–ü 6: EXCEPTION HANDLING

### –í–ª–∞—Å–Ω—ñ Exception –∫–ª–∞—Å–∏

–°—Ç–≤–æ—Ä—ñ—Ç—å –≤ –ø–∞–∫–µ—Ç—ñ `exception`:

#### 1. BaseException (–±–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–π –∫–ª–∞—Å)

```java
package ua.edu.viti.military.exception;

public abstract class BaseException extends RuntimeException {
    public BaseException(String message) {
        super(message);
    }

    public BaseException(String message, Throwable cause) {
        super(message, cause);
    }
}
```

---

#### 2. ResourceNotFoundException

```java
package ua.edu.viti.military.exception;

public class ResourceNotFoundException extends BaseException {
    public ResourceNotFoundException(String message) {
        super(message);
    }
}
```

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ö–æ–ª–∏ Entity –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ –ø–æ ID

---

#### 3. DuplicateResourceException

```java
package ua.edu.viti.military.exception;

public class DuplicateResourceException extends BaseException {
    public DuplicateResourceException(String message) {
        super(message);
    }
}
```

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ö–æ–ª–∏ –ø–æ—Ä—É—à—É—î—Ç—å—Å—è —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å (batchNumber –≤–∂–µ —ñ—Å–Ω—É—î)

---

#### 4. BusinessLogicException

```java
package ua.edu.viti.military.exception;

public class BusinessLogicException extends BaseException {
    public BusinessLogicException(String message) {
        super(message);
    }
}
```

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –ü–æ—Ä—É—à–µ–Ω–Ω—è –±—ñ–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª (–ø—Ä–æ—Å—Ç—Ä–æ—á–µ–Ω–∏–π –º–∞—Ç–µ—Ä—ñ–∞–ª, –Ω–µ–º–∞—î –Ω–∞ —Å–∫–ª–∞–¥—ñ)

---

### RFC 7807 Problem Details

**–°—Ç–∞–Ω–¥–∞—Ä—Ç RFC 7807** –æ–ø–∏—Å—É—î —î–¥–∏–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –ø–æ–º–∏–ª–æ–∫ –¥–ª—è REST API:

```json
{
  "type": "https://api.example.com/errors/resource-not-found",
  "title": "Resource Not Found",
  "status": 404,
  "detail": "–ú–∞—Ç–µ—Ä—ñ–∞–ª –∑ ID 123 –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ",
  "instance": "/api/items/123",
  "timestamp": "2024-12-01T14:30:00Z"
}
```

**–°—Ç–≤–æ—Ä—ñ—Ç—å ErrorResponse –∫–ª–∞—Å:**

```java
package ua.edu.viti.military.exception;

import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.time.LocalDateTime;
import java.util.Map;

@Data
@NoArgsConstructor
@AllArgsConstructor
public class ErrorResponse {
    private String type;
    private String title;
    private int status;
    private String detail;
    private String instance;
    private LocalDateTime timestamp;
    private Map<String, String> errors; // –î–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ–π–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫
}
```

---

### GlobalExceptionHandler

```java
package ua.edu.viti.military.exception;

import lombok.extern.slf4j.Slf4j;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.MethodArgumentNotValidException;
import org.springframework.web.bind.annotation.ExceptionHandler;
import org.springframework.web.bind.annotation.RestControllerAdvice;
import org.springframework.web.context.request.WebRequest;

import java.time.LocalDateTime;
import java.util.HashMap;
import java.util.Map;

@RestControllerAdvice  // –ì–ª–æ–±–∞–ª—å–Ω–∏–π –æ–±—Ä–æ–±–Ω–∏–∫ –¥–ª—è –≤—Å—ñ—Ö –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä—ñ–≤
@Slf4j
public class GlobalExceptionHandler {

    /**
     * –û–±—Ä–æ–±–∫–∞ ResourceNotFoundException (404)
     */
    @ExceptionHandler(ResourceNotFoundException.class)
    public ResponseEntity<ErrorResponse> handleResourceNotFound(
            ResourceNotFoundException ex,
            WebRequest request) {

        log.error("Resource not found: {}", ex.getMessage());

        ErrorResponse error = new ErrorResponse();
        error.setType("/errors/resource-not-found");
        error.setTitle("Resource Not Found");
        error.setStatus(HttpStatus.NOT_FOUND.value());
        error.setDetail(ex.getMessage());
        error.setInstance(request.getDescription(false).replace("uri=", ""));
        error.setTimestamp(LocalDateTime.now());

        return ResponseEntity
                .status(HttpStatus.NOT_FOUND)
                .body(error);
    }

    /**
     * –û–±—Ä–æ–±–∫–∞ DuplicateResourceException (409 Conflict)
     */
    @ExceptionHandler(DuplicateResourceException.class)
    public ResponseEntity<ErrorResponse> handleDuplicateResource(
            DuplicateResourceException ex,
            WebRequest request) {

        log.error("Duplicate resource: {}", ex.getMessage());

        ErrorResponse error = new ErrorResponse();
        error.setType("/errors/duplicate-resource");
        error.setTitle("Duplicate Resource");
        error.setStatus(HttpStatus.CONFLICT.value());
        error.setDetail(ex.getMessage());
        error.setInstance(request.getDescription(false).replace("uri=", ""));
        error.setTimestamp(LocalDateTime.now());

        return ResponseEntity
                .status(HttpStatus.CONFLICT)
                .body(error);
    }

    /**
     * –û–±—Ä–æ–±–∫–∞ BusinessLogicException (400 Bad Request)
     */
    @ExceptionHandler(BusinessLogicException.class)
    public ResponseEntity<ErrorResponse> handleBusinessLogic(
            BusinessLogicException ex,
            WebRequest request) {

        log.error("Business logic error: {}", ex.getMessage());

        ErrorResponse error = new ErrorResponse();
        error.setType("/errors/business-logic");
        error.setTitle("Business Logic Violation");
        error.setStatus(HttpStatus.BAD_REQUEST.value());
        error.setDetail(ex.getMessage());
        error.setInstance(request.getDescription(false).replace("uri=", ""));
        error.setTimestamp(LocalDateTime.now());

        return ResponseEntity
                .status(HttpStatus.BAD_REQUEST)
                .body(error);
    }

    /**
     * –û–±—Ä–æ–±–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ–π–Ω–∏—Ö –ø–æ–º–∏–ª–æ–∫ (400 Bad Request)
     */
    @ExceptionHandler(MethodArgumentNotValidException.class)
    public ResponseEntity<ErrorResponse> handleValidationErrors(
            MethodArgumentNotValidException ex,
            WebRequest request) {

        Map<String, String> validationErrors = new HashMap<>();

        ex.getBindingResult().getFieldErrors().forEach(error -> {
            validationErrors.put(error.getField(), error.getDefaultMessage());
        });

        log.error("Validation errors: {}", validationErrors);

        ErrorResponse error = new ErrorResponse();
        error.setType("/errors/validation");
        error.setTitle("Validation Failed");
        error.setStatus(HttpStatus.BAD_REQUEST.value());
        error.setDetail("–ü–æ–º–∏–ª–∫–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö");
        error.setInstance(request.getDescription(false).replace("uri=", ""));
        error.setTimestamp(LocalDateTime.now());
        error.setErrors(validationErrors);

        return ResponseEntity
                .status(HttpStatus.BAD_REQUEST)
                .body(error);
    }

    /**
     * –û–±—Ä–æ–±–∫–∞ –≤—Å—ñ—Ö —ñ–Ω—à–∏—Ö –ø–æ–º–∏–ª–æ–∫ (500 Internal Server Error)
     */
    @ExceptionHandler(Exception.class)
    public ResponseEntity<ErrorResponse> handleGenericError(
            Exception ex,
            WebRequest request) {

        log.error("Unexpected error occurred", ex);

        ErrorResponse error = new ErrorResponse();
        error.setType("/errors/internal");
        error.setTitle("Internal Server Error");
        error.setStatus(HttpStatus.INTERNAL_SERVER_ERROR.value());
        error.setDetail("–í–Ω—É—Ç—Ä—ñ—à–Ω—è –ø–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞");
        error.setInstance(request.getDescription(false).replace("uri=", ""));
        error.setTimestamp(LocalDateTime.now());

        return ResponseEntity
                .status(HttpStatus.INTERNAL_SERVER_ERROR)
                .body(error);
    }
}
```

**–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î:**
1. –í–∏–Ω–∏–∫–∞—î –≤–∏–∫–ª—é—á–µ–Ω–Ω—è –≤ Service
2. Spring –ø–µ—Ä–µ—Ö–æ–ø–ª—é—î –π–æ–≥–æ
3. –®—É–∫–∞—î –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–π `@ExceptionHandler`
4. –°—Ç–≤–æ—Ä—é—î `ErrorResponse`
5. –ü–æ–≤–µ—Ä—Ç–∞—î –∫–ª—ñ—î–Ω—Ç—É –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º HTTP —Å—Ç–∞—Ç—É—Å–æ–º

---

## üåê –ï–¢–ê–ü 7: REST CONTROLLERS

### –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ REST API

**Controller –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞:**
1. **HTTP –∑–∞–ø–∏—Ç–∏/–≤—ñ–¥–ø–æ–≤—ñ–¥—ñ** ‚Äî –ø—Ä–∏–π–º–∞—î request, –ø–æ–≤–µ—Ä—Ç–∞—î response
2. **–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü—ñ—é** ‚Äî @GetMapping, @PostMapping —Ç–æ—â–æ
3. **–í–∞–ª—ñ–¥–∞—Ü—ñ—é –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö** ‚Äî @Valid
4. **HTTP —Å—Ç–∞—Ç—É—Å–∏** ‚Äî 200, 201, 204, 400, 404, 409

**Controller –ù–ï –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞:**
- –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É (—Ü–µ Service)
- –†–æ–±–æ—Ç—É –∑ –ë–î (—Ü–µ Repository)
- –ú–∞–ø–ø—ñ–Ω–≥ Entity ‚Üî DTO (—Ü–µ Service)

---

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Controller –∫–ª–∞—Å—É

```java
package ua.edu.viti.military.controller;

import io.swagger.v3.oas.annotations.tags.Tag;
import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.springframework.web.bind.annotation.*;
import ua.edu.viti.military.dto.request.*;
import ua.edu.viti.military.dto.response.*;
import ua.edu.viti.military.entity.ItemStatus;
import ua.edu.viti.military.service.*;

@RestController
@RequestMapping("/api/–í–ê–®-–†–ï–°–£–†–°")  // <- –ó–ú–Ü–ù–Ü–¢–¨
@RequiredArgsConstructor
@Slf4j
@Tag(name = "–ù–∞–∑–≤–∞", description = "–û–ø–∏—Å API")  // –î–ª—è Swagger
public class –í–∞—àItemController {

    private final –í–∞—àItemService itemService;

    // CRUD endpoints
}
```

**–í–∞–∂–ª–∏–≤—ñ –∞–Ω–æ—Ç–∞—Ü—ñ—ó:**
- `@RestController` = `@Controller` + `@ResponseBody` (JSON –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ)
- `@RequestMapping` ‚Äî –±–∞–∑–æ–≤–∏–π —à–ª—è—Ö –¥–ª—è –≤—Å—ñ—Ö endpoints
- `@Tag` ‚Äî –≥—Ä—É–ø–∞ endpoints –≤ Swagger

---

### –ü—Ä–∞–≤–∏–ª—å–Ω—ñ —à–ª—è—Ö–∏ –¥–ª—è –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤

**–í–∞—Ä—ñ–∞–Ω—Ç A (–ú–¢–ó):**
- Categories: `/api/supply-categories`
- Items: `/api/supply-items`
- Warehouses: `/api/warehouses`

**–í–∞—Ä—ñ–∞–Ω—Ç B (–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç):**
- Categories: `/api/vehicle-categories`
- Vehicles: `/api/vehicles`
- Drivers: `/api/drivers`

**–í–∞—Ä—ñ–∞–Ω—Ç C (–ü–µ—Ä—Å–æ–Ω–∞–ª):**
- Unit Types: `/api/unit-types`
- Units: `/api/military-units`
- Personnel: `/api/personnel`

**–ü—Ä–∞–≤–∏–ª–∞ REST URLs:**
- –ú–Ω–æ–∂–∏–Ω–∞: `/items` –Ω–µ `/item`
- Lowercase –∑ –¥–µ—Ñ—ñ—Å–∞–º–∏: `/supply-items` –Ω–µ `/SupplyItems`
- –ë–µ–∑ –¥—ñ—î—Å–ª—ñ–≤: `/items` –Ω–µ `/getItems`
- ID –≤ —à–ª—è—Ö—É: `/items/{id}` –Ω–µ `/items?id=1`

---

### HTTP –º–µ—Ç–æ–¥–∏ —Ç–∞ —Å—Ç–∞—Ç—É—Å–∏

| –û–ø–µ—Ä–∞—Ü—ñ—è | HTTP Method | URL | Success Status | Body |
|----------|-------------|-----|----------------|------|
| Create | POST | `/items` | 201 Created | ItemResponseDTO |
| Read One | GET | `/items/{id}` | 200 OK | ItemResponseDTO |
| Read All | GET | `/items` | 200 OK | List<ItemResponseDTO> |
| Update | PUT | `/items/{id}` | 200 OK | ItemResponseDTO |
| Delete | DELETE | `/items/{id}` | 204 No Content | - |

**–í–∞–∂–ª–∏–≤–æ:**
- POST ‚Üí 201 Created
- DELETE ‚Üí 204 No Content (–±–µ–∑ body)
- GET, PUT ‚Üí 200 OK

---

### CRUD Endpoints (–¥–µ—Ç–∞–ª—å–Ω–æ)

#### 1. CREATE ‚Äî POST /api/items

```java
@PostMapping
@Operation(
    summary = "–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –º–∞—Ç–µ—Ä—ñ–∞–ª",
    description = "–°—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –º–∞—Ç–µ—Ä—ñ–∞–ª –≤ —Å–∏—Å—Ç–µ–º—ñ. " +
                  "–ü–µ—Ä–µ–≤—ñ—Ä—è—î —É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å –ø–∞—Ä—Ç—ñ—ó, —ñ—Å–Ω—É–≤–∞–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–∞ —Å–∫–ª–∞–¥—É."
)
@ApiResponses({
    @ApiResponse(
        responseCode = "201",
        description = "–ú–∞—Ç–µ—Ä—ñ–∞–ª —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ"
    ),
    @ApiResponse(
        responseCode = "400",
        description = "–ü–æ–º–∏–ª–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö"
    ),
    @ApiResponse(
        responseCode = "404",
        description = "–ö–∞—Ç–µ–≥–æ—Ä—ñ—é –∞–±–æ —Å–∫–ª–∞–¥ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
    ),
    @ApiResponse(
        responseCode = "409",
        description = "–ú–∞—Ç–µ—Ä—ñ–∞–ª –∑ —Ç–∞–∫–∏–º –Ω–æ–º–µ—Ä–æ–º –ø–∞—Ä—Ç—ñ—ó –≤–∂–µ —ñ—Å–Ω—É—î"
    )
})
public ResponseEntity<SupplyItemResponseDTO> create(
        @Valid @RequestBody SupplyItemCreateDTO createDTO) {
    
    log.info("REST request to create supply item: {}", createDTO);
    
    SupplyItemResponseDTO created = itemService.create(createDTO);
    
    return ResponseEntity
        .status(HttpStatus.CREATED)  // 201
        .body(created);
}
```

**–í–∞–∂–ª–∏–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**
- `@Valid` ‚Äî –∞–∫—Ç–∏–≤—É—î –≤–∞–ª—ñ–¥–∞—Ü—ñ—é DTO
- `@RequestBody` ‚Äî JSON –∑ —Ç—ñ–ª–∞ –∑–∞–ø–∏—Ç—É ‚Üí Java –æ–±'—î–∫—Ç
- `ResponseEntity<T>` ‚Äî –æ–±–≥–æ—Ä—Ç–∫–∞ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é —Å—Ç–∞—Ç—É—Å—É
- `.status(HttpStatus.CREATED)` ‚Äî —è–≤–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ 201

**–ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É (Postman/cURL):**
```json
POST /api/supply-items
Content-Type: application/json

{
  "name": "–ü–∞—Ç—Ä–æ–Ω–∏ 5.45—Ö39",
  "batchNumber": "BATCH-2024-12-001",
  "categoryId": 1,
  "quantity": 5000,
  "unit": "—à—Ç",
  "expirationDate": "2029-12-31",
  "hazardClass": "EXPLOSIVE",
  "storageConditions": "–°—É—Ö–µ –ø—Ä–∏–º—ñ—â–µ–Ω–Ω—è, t +5..+25¬∞C",
  "warehouseId": 1
}
```

**–ü—Ä–∏–∫–ª–∞–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:**
```json
HTTP/1.1 201 Created
Content-Type: application/json

{
  "id": 15,
  "name": "–ü–∞—Ç—Ä–æ–Ω–∏ 5.45—Ö39",
  "batchNumber": "BATCH-2024-12-001",
  "category": {
    "id": 1,
    "name": "–ë–æ—î–ø—Ä–∏–ø–∞—Å–∏ 5.45–º–º",
    "code": "AMMO-545"
  },
  "quantity": 5000,
  "unit": "—à—Ç",
  "expirationDate": "2029-12-31",
  "hazardClass": "EXPLOSIVE",
  "storageConditions": "–°—É—Ö–µ –ø—Ä–∏–º—ñ—â–µ–Ω–Ω—è, t +5..+25¬∞C",
  "warehouseId": 1,
  "warehouseName": "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π —Å–∫–ª–∞–¥ ‚Ññ1",
  "status": "IN_STOCK",
  "createdAt": "2024-12-01T14:30:00",
  "updatedAt": "2024-12-01T14:30:00"
}
```

---

#### 2. READ ONE ‚Äî GET /api/items/{id}

```java
@GetMapping("/{id}")
@Operation(
    summary = "–û—Ç—Ä–∏–º–∞—Ç–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª –∑–∞ ID",
    description = "–ü–æ–≤–µ—Ä—Ç–∞—î –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –º–∞—Ç–µ—Ä—ñ–∞–ª –∑–∞ –π–æ–≥–æ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–æ–º"
)
@ApiResponses({
    @ApiResponse(responseCode = "200", description = "–ú–∞—Ç–µ—Ä—ñ–∞–ª –∑–Ω–∞–π–¥–µ–Ω–æ"),
    @ApiResponse(responseCode = "404", description = "–ú–∞—Ç–µ—Ä—ñ–∞–ª –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ")
})
public ResponseEntity<SupplyItemResponseDTO> getById(
        @Parameter(description = "ID –º–∞—Ç–µ—Ä—ñ–∞–ª—É", required = true)
        @PathVariable Long id) {
    
    log.info("REST request to get supply item by ID: {}", id);
    
    SupplyItemResponseDTO item = itemService.getById(id);
    
    return ResponseEntity.ok(item);  // 200 OK
}
```

**–í–∞–∂–ª–∏–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**
- `@PathVariable` ‚Äî –±–µ—Ä–µ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ URL
- `ResponseEntity.ok()` ‚Äî shortcut –¥–ª—è —Å—Ç–∞—Ç—É—Å—É 200
- `@Parameter` ‚Äî –æ–ø–∏—Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–ª—è Swagger

**–ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É:**
```
GET /api/supply-items/15
```

---

#### 3. READ ALL ‚Äî GET /api/items (–∑ —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏)

```java
@GetMapping
@Operation(
    summary = "–û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤",
    description = "–ü–æ–≤–µ—Ä—Ç–∞—î —Å–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ –∑ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—é —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó " +
                  "–ø–æ —Å—Ç–∞—Ç—É—Å—É —Ç–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó"
)
@ApiResponses({
    @ApiResponse(responseCode = "200", description = "–°–ø–∏—Å–æ–∫ —É—Å–ø—ñ—à–Ω–æ –æ—Ç—Ä–∏–º–∞–Ω–æ")
})
public ResponseEntity<List<SupplyItemResponseDTO>> getAll(
        @Parameter(description = "–§—ñ–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É (–æ–ø—Ü—ñ–π–Ω–æ)")
        @RequestParam(required = false) ItemStatus status,
        
        @Parameter(description = "–§—ñ–ª—å—Ç—Ä –ø–æ ID –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó (–æ–ø—Ü—ñ–π–Ω–æ)")
        @RequestParam(required = false) Long categoryId) {
    
    log.info("REST request to get all items with status: {}, categoryId: {}", 
             status, categoryId);
    
    List<SupplyItemResponseDTO> items = itemService.getAll(status, categoryId);
    
    return ResponseEntity.ok(items);
}
```

**–í–∞–∂–ª–∏–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**
- `@RequestParam` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑ query string (?status=IN_STOCK&categoryId=1)
- `required = false` ‚Äî –æ–ø—Ü—ñ–π–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
- Enum –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö ‚Äî Spring –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç—É—î

**–ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤:**
```
GET /api/supply-items                              # –í—Å—ñ
GET /api/supply-items?status=IN_STOCK              # –¢—ñ–ª—å–∫–∏ –Ω–∞ —Å–∫–ª–∞–¥—ñ
GET /api/supply-items?categoryId=1                 # –¢—ñ–ª—å–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è 1
GET /api/supply-items?status=IN_STOCK&categoryId=1 # –û–±–∏–¥–≤–∞ —Ñ—ñ–ª—å—Ç—Ä–∏
```

---

#### 4. UPDATE ‚Äî PUT /api/items/{id}

```java
@PutMapping("/{id}")
@Operation(
    summary = "–û–Ω–æ–≤–∏—Ç–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª",
    description = "–û–Ω–æ–≤–ª—é—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —ñ—Å–Ω—É—é—á–∏–π –º–∞—Ç–µ—Ä—ñ–∞–ª. " +
                  "–û–Ω–æ–≤–ª—é—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø–µ—Ä–µ–¥–∞–Ω—ñ –ø–æ–ª—è."
)
@ApiResponses({
    @ApiResponse(responseCode = "200", description = "–ú–∞—Ç–µ—Ä—ñ–∞–ª —É—Å–ø—ñ—à–Ω–æ –æ–Ω–æ–≤–ª–µ–Ω–æ"),
    @ApiResponse(responseCode = "400", description = "–ü–æ–º–∏–ª–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó"),
    @ApiResponse(responseCode = "404", description = "–ú–∞—Ç–µ—Ä—ñ–∞–ª –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ")
})
public ResponseEntity<SupplyItemResponseDTO> update(
        @Parameter(description = "ID –º–∞—Ç–µ—Ä—ñ–∞–ª—É", required = true)
        @PathVariable Long id,
        
        @Valid @RequestBody SupplyItemUpdateDTO updateDTO) {
    
    log.info("REST request to update supply item {}: {}", id, updateDTO);
    
    SupplyItemResponseDTO updated = itemService.update(id, updateDTO);
    
    return ResponseEntity.ok(updated);
}
```

**–ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É (—á–∞—Å—Ç–∫–æ–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è):**
```json
PUT /api/supply-items/15
Content-Type: application/json

{
  "quantity": 4500,
  "storageConditions": "–û–Ω–æ–≤–ª–µ–Ω—ñ —É–º–æ–≤–∏ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è"
}
```

–û–Ω–æ–≤–ª—è—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ `quantity` —Ç–∞ `storageConditions`, —Ä–µ—à—Ç–∞ –∑–∞–ª–∏—à–∏—Ç—å—Å—è –±–µ–∑ –∑–º—ñ–Ω.

---

#### 5. DELETE ‚Äî DELETE /api/items/{id}

```java
@DeleteMapping("/{id}")
@Operation(
    summary = "–í–∏–¥–∞–ª–∏—Ç–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª",
    description = "–í–∏–¥–∞–ª—è—î –º–∞—Ç–µ—Ä—ñ–∞–ª –∑ —Å–∏—Å—Ç–µ–º–∏"
)
@ApiResponses({
    @ApiResponse(responseCode = "204", description = "–ú–∞—Ç–µ—Ä—ñ–∞–ª —É—Å–ø—ñ—à–Ω–æ –≤–∏–¥–∞–ª–µ–Ω–æ"),
    @ApiResponse(responseCode = "404", description = "–ú–∞—Ç–µ—Ä—ñ–∞–ª –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ")
})
public ResponseEntity<Void> delete(
        @Parameter(description = "ID –º–∞—Ç–µ—Ä—ñ–∞–ª—É", required = true)
        @PathVariable Long id) {
    
    log.info("REST request to delete supply item: {}", id);
    
    itemService.delete(id);
    
    return ResponseEntity.noContent().build();  // 204 No Content
}
```

**–í–∞–∂–ª–∏–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**
- `ResponseEntity<Void>` ‚Äî –±–µ–∑ body
- `.noContent()` ‚Äî —Å—Ç–∞—Ç—É—Å 204
- `.build()` ‚Äî —Å—Ç–≤–æ—Ä—é—î –≤—ñ–¥–ø–æ–≤—ñ–¥—å –±–µ–∑ —Ç—ñ–ª–∞

**–ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É:**
```
DELETE /api/supply-items/15
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```
HTTP/1.1 204 No Content
```

---

### –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ endpoints

#### –í–∞—Ä—ñ–∞–Ω—Ç A: –ú–∞—Ç–µ—Ä—ñ–∞–ª–∏ —â–æ –∑–∞–∫—ñ–Ω—á—É—é—Ç—å—Å—è

```java
@GetMapping("/expiring-soon")
@Operation(
    summary = "–ú–∞—Ç–µ—Ä—ñ–∞–ª–∏ –∑ —Ç–µ—Ä–º—ñ–Ω–æ–º —â–æ –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è",
    description = "–ü–æ–≤–µ—Ä—Ç–∞—î —Å–ø–∏—Å–æ–∫ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤ –∑ —Ç–µ—Ä–º—ñ–Ω–æ–º –ø—Ä–∏–¥–∞—Ç–Ω–æ—Å—Ç—ñ " +
                  "—â–æ –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è –≤ –Ω–∞–π–±–ª–∏–∂—á—ñ N –¥–Ω—ñ–≤"
)
public ResponseEntity<List<SupplyItemResponseDTO>> getExpiringSoon(
        @Parameter(description = "–ö—ñ–ª—å–∫—ñ—Å—Ç—å –¥–Ω—ñ–≤ (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º 30)")
        @RequestParam(defaultValue = "30") int days) {
    
    log.info("REST request to get items expiring in {} days", days);
    
    List<SupplyItemResponseDTO> items = itemService.findExpiringSoon(days);
    
    return ResponseEntity.ok(items);
}
```

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```
GET /api/supply-items/expiring-soon?days=7  # –ó–∞–∫—ñ–Ω—á—É—é—Ç—å—Å—è –∑–∞ 7 –¥–Ω—ñ–≤
```

---

#### –í–∞—Ä—ñ–∞–Ω—Ç B: –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç —â–æ –ø–æ—Ç—Ä–µ–±—É—î –¢–û

```java
@GetMapping("/requiring-maintenance")
@Operation(
    summary = "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç —â–æ –ø–æ—Ç—Ä–µ–±—É—î —Ç–µ—Ö–Ω—ñ—á–Ω–æ–≥–æ –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è",
    description = "–ü–æ–≤–µ—Ä—Ç–∞—î —Å–ø–∏—Å–æ–∫ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É —è–∫–∏–π –ø–µ—Ä–µ–≤–∏—â–∏–≤ —ñ–Ω—Ç–µ—Ä–≤–∞–ª –¢–û"
)
public ResponseEntity<List<VehicleResponseDTO>> getRequiringMaintenance() {
    log.info("REST request to get vehicles requiring maintenance");
    
    List<VehicleResponseDTO> vehicles = vehicleService.findRequiringMaintenance();
    
    return ResponseEntity.ok(vehicles);
}
```

---

#### –í–∞—Ä—ñ–∞–Ω—Ç C: –ü–µ—Ä—Å–æ–Ω–∞–ª –∑ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏ —â–æ –∑–∞–∫—ñ–Ω—á—É—é—Ç—å—Å—è

```java
@GetMapping("/contracts-expiring")
@Operation(
    summary = "–ü–µ—Ä—Å–æ–Ω–∞–ª –∑ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏ —â–æ –∑–∞–∫—ñ–Ω—á—É—é—Ç—å—Å—è",
    description = "–ü–æ–≤–µ—Ä—Ç–∞—î —Å–ø–∏—Å–æ–∫ –≤—ñ–π—Å—å–∫–æ–≤–æ—Å–ª—É–∂–±–æ–≤—Ü—ñ–≤ –∑ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞–º–∏ " +
                  "—â–æ –∑–∞–∫—ñ–Ω—á—É—é—Ç—å—Å—è –≤ –Ω–∞–π–±–ª–∏–∂—á—ñ N –¥–Ω—ñ–≤"
)
public ResponseEntity<List<PersonnelResponseDTO>> getContractsExpiring(
        @RequestParam(defaultValue = "60") int days) {
    
    log.info("REST request to get personnel with contracts expiring in {} days", days);
    
    List<PersonnelResponseDTO> personnel = personnelService.findContractsExpiringSoon(days);
    
    return ResponseEntity.ok(personnel);
}
```

---

### CategoryController (–ø—Ä–æ—Å—Ç—ñ—à–∏–π –ø—Ä–∏–∫–ª–∞–¥)

```java
package ua.edu.viti.military.controller;

import io.swagger.v3.oas.annotations.Operation;
import io.swagger.v3.oas.annotations.tags.Tag;
import jakarta.validation.Valid;
import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;
import ua.edu.viti.military.dto.request.SupplyCategoryCreateDTO;
import ua.edu.viti.military.dto.response.SupplyCategoryResponseDTO;
import ua.edu.viti.military.service.SupplyCategoryService;

import java.util.List;

@RestController
@RequestMapping("/api/supply-categories")
@RequiredArgsConstructor
@Slf4j
@Tag(name = "Supply Categories", description = "API –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤")
public class SupplyCategoryController {

    private final SupplyCategoryService categoryService;

    @PostMapping
    @Operation(summary = "–°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é")
    public ResponseEntity<SupplyCategoryResponseDTO> create(
            @Valid @RequestBody SupplyCategoryCreateDTO dto) {

        SupplyCategoryResponseDTO created = categoryService.create(dto);
        return ResponseEntity.status(HttpStatus.CREATED).body(created);
    }

    @GetMapping("/{id}")
    @Operation(summary = "–û—Ç—Ä–∏–º–∞—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é –∑–∞ ID")
    public ResponseEntity<SupplyCategoryResponseDTO> getById(@PathVariable Long id) {
        return ResponseEntity.ok(categoryService.getById(id));
    }

    @GetMapping
    @Operation(summary = "–û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó")
    public ResponseEntity<List<SupplyCategoryResponseDTO>> getAll() {
        return ResponseEntity.ok(categoryService.getAll());
    }

    @PutMapping("/{id}")
    @Operation(summary = "–û–Ω–æ–≤–∏—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é")
    public ResponseEntity<SupplyCategoryResponseDTO> update(
            @PathVariable Long id,
            @Valid @RequestBody SupplyCategoryCreateDTO dto) {

        return ResponseEntity.ok(categoryService.update(id, dto));
    }

    @DeleteMapping("/{id}")
    @Operation(summary = "–í–∏–¥–∞–ª–∏—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é")
    public ResponseEntity<Void> delete(@PathVariable Long id) {
        categoryService.delete(id);
        return ResponseEntity.noContent().build();
    }
}
```

**–°—Ç–≤–æ—Ä—ñ—Ç—å –∞–Ω–∞–ª–æ–≥—ñ—á–Ω—ñ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ –¥–ª—è –≤—Å—ñ—Ö –≤–∞—à–∏—Ö Entity!**

---

## ‚úÖ –ï–¢–ê–ü 8: BEAN VALIDATION GROUPS

### –ù–∞–≤—ñ—â–æ –ø–æ—Ç—Ä—ñ–±–Ω—ñ Validation Groups?

**–ü—Ä–æ–±–ª–µ–º–∞:** –†—ñ–∑–Ω—ñ –≤–∏–º–æ–≥–∏ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ —Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ:

```java
// –ü—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ - –≤—Å—ñ –ø–æ–ª—è –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ
{
  "name": "–ü–∞—Ç—Ä–æ–Ω–∏",       // ‚úÖ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ
  "batchNumber": "BATCH1", // ‚úÖ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ
  "quantity": 5000         // ‚úÖ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ
}

// –ü—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ - –≤—Å—ñ –ø–æ–ª—è –æ–ø—Ü—ñ–π–Ω—ñ (partial update)
{
  "quantity": 4500  // ‚úÖ OK, –æ–Ω–æ–≤–∏–º–æ —Ç—ñ–ª—å–∫–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å
}
```

**–†—ñ—à–µ–Ω–Ω—è ‚Äî Validation Groups:**

---

### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–∞—Ä–∫–µ—Ä–Ω–∏—Ö —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤

```java
package ua.edu.viti.military.validation;

public interface OnCreate {
}
```

```java
package ua.edu.viti.military.validation;

public interface OnUpdate {
}
```

–¶–µ –ø—Ä–æ—Å—Ç–æ **–º–∞—Ä–∫–µ—Ä–∏** (–±–µ–∑ –º–µ—Ç–æ–¥—ñ–≤).

---

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ DTO

**CreateDTO –∑ –≥—Ä—É–ø–∞–º–∏:**

```java
package ua.edu.viti.military.dto.request;

import jakarta.validation.constraints.*;
import lombok.Data;
import ua.edu.viti.military.validation.OnCreate;

@Data
public class SupplyItemCreateDTO {

    @NotBlank(groups = OnCreate.class, message = "–ù–∞–∑–≤–∞ –æ–±–æ–≤'—è–∑–∫–æ–≤–∞ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ")
    @Size(max = 200, groups = OnCreate.class)
    private String name;

    @NotBlank(groups = OnCreate.class, message = "–ù–æ–º–µ—Ä –ø–∞—Ä—Ç—ñ—ó –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π")
    @Size(max = 50, groups = OnCreate.class)
    private String batchNumber;

    @NotNull(groups = OnCreate.class, message = "–ö–∞—Ç–µ–≥–æ—Ä—ñ—è –æ–±–æ–≤'—è–∑–∫–æ–≤–∞")
    @Positive(groups = OnCreate.class)
    private Long categoryId;

    @NotNull(groups = OnCreate.class, message = "–ö—ñ–ª—å–∫—ñ—Å—Ç—å –æ–±–æ–≤'—è–∑–∫–æ–≤–∞")
    @Positive(groups = OnCreate.class)
    private Integer quantity;

    // –Ü–Ω—à—ñ –ø–æ–ª—è...
}
```

---

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ Controller

**–ü—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ - –≤–∞–ª—ñ–¥—É—î–º–æ –≥—Ä—É–ø—É OnCreate:**

```java
@PostMapping
public ResponseEntity<SupplyItemResponseDTO> create(
        @Validated(OnCreate.class) @RequestBody SupplyItemCreateDTO dto) {
    //      ^^^^^^ –∑–∞–º—ñ—Å—Ç—å @Valid
    
    SupplyItemResponseDTO created = itemService.create(dto);
    return ResponseEntity.status(HttpStatus.CREATED).body(created);
}
```

**–ü—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ - –≤–∞–ª—ñ–¥—É—î–º–æ –≥—Ä—É–ø—É OnUpdate:**

```java
@PutMapping("/{id}")
public ResponseEntity<SupplyItemResponseDTO> update(
        @PathVariable Long id,
        @Validated(OnUpdate.class) @RequestBody SupplyItemUpdateDTO dto) {
    
    SupplyItemResponseDTO updated = itemService.update(id, dto);
    return ResponseEntity.ok(updated);
}
```

**–†—ñ–∑–Ω–∏—Ü—è:**
- `@Valid` - –≤–∞–ª—ñ–¥—É—î –≤—Å—ñ constraints –±–µ–∑ –≥—Ä—É–ø–∏
- `@Validated(OnCreate.class)` - –≤–∞–ª—ñ–¥—É—î —Ç—ñ–ª—å–∫–∏ constraints –∑ —Ü—ñ—î—é –≥—Ä—É–ø–æ—é
- `@Validated(OnUpdate.class)` - –≤–∞–ª—ñ–¥—É—î —Ç—ñ–ª—å–∫–∏ constraints –∑ —Ü—ñ—î—é –≥—Ä—É–ø–æ—é

---

### Custom Validators (–æ–ø—Ü—ñ–π–Ω–æ, –¥–ª—è –ø—Ä–æ—Å—É–Ω—É—Ç–∏—Ö)

**–ü—Ä–∏–∫–ª–∞–¥: –≤–∞–ª—ñ–¥–∞—Ç–æ—Ä –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –º–∞–π–±—É—Ç–Ω—å–æ—ó –¥–∞—Ç–∏**

```java
package ua.edu.viti.military.validation;

import jakarta.validation.Constraint;
import jakarta.validation.Payload;

import java.lang.annotation.*;

@Target({ElementType.FIELD})
@Retention(RetentionPolicy.RUNTIME)
@Constraint(validatedBy = FutureDateValidator.class)
@Documented
public @interface FutureDate {
    String message() default "–î–∞—Ç–∞ –º–∞—î –±—É—Ç–∏ –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É";

    Class<?>[] groups() default {};

    Class<? extends Payload>[] payload() default {};
}
```

**–Ü–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—è:**

```java
package ua.edu.viti.military.validation;

import jakarta.validation.ConstraintValidator;
import jakarta.validation.ConstraintValidatorContext;

import java.time.LocalDate;

public class FutureDateValidator
        implements ConstraintValidator<FutureDate, LocalDate> {

    @Override
    public boolean isValid(LocalDate value, ConstraintValidatorContext context) {
        if (value == null) {
            return true; // null –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è —á–µ—Ä–µ–∑ @NotNull
        }
        return value.isAfter(LocalDate.now());
    }
}
```

**–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**

```java
@FutureDate(message = "–¢–µ—Ä–º—ñ–Ω –ø—Ä–∏–¥–∞—Ç–Ω–æ—Å—Ç—ñ –º–∞—î –±—É—Ç–∏ –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É")
private LocalDate expirationDate;
```

---

## üìö –ï–¢–ê–ü 9: SWAGGER CONFIGURATION (20 —Ö–≤)

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è SpringDoc OpenAPI

**–§–∞–π–ª –≤–∂–µ –º—ñ—Å—Ç–∏—Ç—å –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å:**
```xml
<dependency>
    <groupId>org.springdoc</groupId>
    <artifactId>springdoc-openapi-starter-webmvc-ui</artifactId>
    <version>2.3.0</version>
</dependency>
```

---

### –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω–∏–π –∫–ª–∞—Å

–°—Ç–≤–æ—Ä—ñ—Ç—å `OpenApiConfig.java` –≤ –ø–∞–∫–µ—Ç—ñ `config`:

```java
package ua.edu.viti.military.config;

import io.swagger.v3.oas.models.OpenAPI;
import io.swagger.v3.oas.models.info.Contact;
import io.swagger.v3.oas.models.info.Info;
import io.swagger.v3.oas.models.info.License;
import io.swagger.v3.oas.models.servers.Server;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

import java.util.List;

@Configuration
public class OpenApiConfig {

    @Bean
    public OpenAPI customOpenAPI() {
        return new OpenAPI()
                .info(new Info()
                        .title("Military Warehouse API - [–í–ê–® –í–ê–†–Ü–ê–ù–¢]")  // <- –ó–ú–Ü–ù–Ü–¢–¨
                        .version("1.0.0")
                        .description(
                                "REST API –¥–ª—è —Å–∏—Å—Ç–µ–º–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è [–í–ê–®–û–Æ –ü–†–ï–î–ú–ï–¢–ù–û–Æ –û–ë–õ–ê–°–¢–Æ].\n\n" +
                                        "**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:**\n" +
                                        "- –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏\n" +
                                        "- CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ –º–∞—Ç–µ—Ä—ñ–∞–ª–∞–º–∏/—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º/–ø–µ—Ä—Å–æ–Ω–∞–ª–æ–º\n" +
                                        "- –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –ø–æ—à—É–∫\n" +
                                        "- –ö–æ–Ω—Ç—Ä–æ–ª—å —Ç–µ—Ä–º—ñ–Ω—ñ–≤/–¢–û/–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤\n\n" +
                                        "**–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó:** Spring Boot 3.2, Spring Data JPA, PostgreSQL"
                        )
                        .contact(new Contact()
                                .name("–í–∞—à–µ —ñ–º'—è")
                                .email("your.email@viti.edu.ua")
                        )
                        .license(new License()
                                .name("Educational Use Only")
                        )
                )
                .servers(List.of(
                        new Server()
                                .url("http://localhost:8080")
                                .description("Local Development Server"),
                        new Server()
                                .url("https://api.example.com")
                                .description("Production Server (—è–∫—â–æ —î)")
                ));
    }
}
```

---

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∞–Ω–æ—Ç–∞—Ü—ñ–π –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä—ñ

**–î–µ—Ç–∞–ª—å–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥:**

```java
@RestController
@RequestMapping("/api/supply-items")
@RequiredArgsConstructor
@Slf4j
@Tag(
    name = "Supply Items",
    description = "API –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –º–∞—Ç–µ—Ä—ñ–∞–ª–∞–º–∏ –ú–¢–ó. " +
                  "–ü—ñ–¥—Ç—Ä–∏–º—É—î CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó, —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é —Ç–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å —Ç–µ—Ä–º—ñ–Ω—ñ–≤ –ø—Ä–∏–¥–∞—Ç–Ω–æ—Å—Ç—ñ."
)
public class SupplyItemController {
    
    private final SupplyItemService itemService;
    
    @PostMapping
    @Operation(
        summary = "–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –º–∞—Ç–µ—Ä—ñ–∞–ª",
        description = """
            –°—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π –º–∞—Ç–µ—Ä—ñ–∞–ª –≤ —Å–∏—Å—Ç–µ–º—ñ –ú–¢–ó.
            
            **–ë—ñ–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞:**
            - –ù–æ–º–µ—Ä –ø–∞—Ä—Ç—ñ—ó –º–∞—î –±—É—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º
            - –ö–∞—Ç–µ–≥–æ—Ä—ñ—è –º–∞—î —ñ—Å–Ω—É–≤–∞—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—ñ
            - –ö—ñ–ª—å–∫—ñ—Å—Ç—å –º–∞—î –±—É—Ç–∏ –±—ñ–ª—å—à–µ 0
            - –¢–µ—Ä–º—ñ–Ω –ø—Ä–∏–¥–∞—Ç–Ω–æ—Å—Ç—ñ –º–∞—î –±—É—Ç–∏ –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É (—è–∫—â–æ –≤–∫–∞–∑–∞–Ω–æ)
            
            **–ü—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É:**
            ```json
            {
              "name": "–ü–∞—Ç—Ä–æ–Ω–∏ 5.45—Ö39",
              "batchNumber": "BATCH-2024-12-001",
              "categoryId": 1,
              "quantity": 5000,
              "unit": "—à—Ç",
              "expirationDate": "2029-12-31",
              "hazardClass": "EXPLOSIVE"
            }
            ```
            """
    )
    @ApiResponses({
        @ApiResponse(
            responseCode = "201",
            description = "–ú–∞—Ç–µ—Ä—ñ–∞–ª —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ"
        ),
        @ApiResponse(
            responseCode = "400",
            description = """
                –ü–æ–º–∏–ª–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö.
                
                –ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏:
                - –ü—É—Å—Ç—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è
                - –ù–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–∏—Ö
                - –¢–µ—Ä–º—ñ–Ω –ø—Ä–∏–¥–∞—Ç–Ω–æ—Å—Ç—ñ –≤ –º–∏–Ω—É–ª–æ–º—É
                """
        ),
        @ApiResponse(
            responseCode = "404",
            description = "–ö–∞—Ç–µ–≥–æ—Ä—ñ—é –∞–±–æ —Å–∫–ª–∞–¥ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
        ),
        @ApiResponse(
            responseCode = "409",
            description = "–ú–∞—Ç–µ—Ä—ñ–∞–ª –∑ —Ç–∞–∫–∏–º –Ω–æ–º–µ—Ä–æ–º –ø–∞—Ä—Ç—ñ—ó –≤–∂–µ —ñ—Å–Ω—É—î"
        )
    })
    public ResponseEntity<SupplyItemResponseDTO> create(
            @io.swagger.v3.oas.annotations.parameters.RequestBody(
                description = "–î–∞–Ω—ñ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –º–∞—Ç–µ—Ä—ñ–∞–ª—É",
                required = true
            )
            @Valid @RequestBody SupplyItemCreateDTO dto) {
        
        SupplyItemResponseDTO created = itemService.create(dto);
        return ResponseEntity.status(HttpStatus.CREATED).body(created);
    }
    
    // –Ü–Ω—à—ñ endpoints...
}
```

---

### Schema annotations –≤ DTO

**–î–æ–¥–∞–π—Ç–µ –æ–ø–∏—Å –ø–æ–ª—ñ–≤ –¥–ª—è Swagger:**

```java
package ua.edu.viti.military.dto.request;

import io.swagger.v3.oas.annotations.media.Schema;
import jakarta.validation.constraints.*;
import lombok.Data;
import ua.edu.viti.military.entity.HazardClass;

import java.time.LocalDate;

@Data
@Schema(description = "DTO –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –º–∞—Ç–µ—Ä—ñ–∞–ª—É")
public class SupplyItemCreateDTO {

    @Schema(
            description = "–ù–∞–∑–≤–∞ –º–∞—Ç–µ—Ä—ñ–∞–ª—É",
            example = "–ü–∞—Ç—Ä–æ–Ω–∏ 5.45—Ö39 –º–º –ê–ö-74",
            required = true,
            maxLength = 200
    )
    @NotBlank(message = "–ù–∞–∑–≤–∞ –æ–±–æ–≤'—è–∑–∫–æ–≤–∞")
    @Size(max = 200)
    private String name;

    @Schema(
            description = "–£–Ω—ñ–∫–∞–ª—å–Ω–∏–π –Ω–æ–º–µ—Ä –ø–∞—Ä—Ç—ñ—ó",
            example = "BATCH-2024-12-001",
            required = true,
            maxLength = 50
    )
    @NotBlank(message = "–ù–æ–º–µ—Ä –ø–∞—Ä—Ç—ñ—ó –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π")
    @Size(max = 50)
    private String batchNumber;

    @Schema(
            description = "ID –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –º–∞—Ç–µ—Ä—ñ–∞–ª—É",
            example = "1",
            required = true,
            minimum = "1"
    )
    @NotNull
    @Positive
    private Long categoryId;

    @Schema(
            description = "–ö—ñ–ª—å–∫—ñ—Å—Ç—å –æ–¥–∏–Ω–∏—Ü—å",
            example = "5000",
            required = true,
            minimum = "1"
    )
    @NotNull
    @Positive
    private Integer quantity;

    @Schema(
            description = "–û–¥–∏–Ω–∏—Ü—è –≤–∏–º—ñ—Ä—É",
            example = "—à—Ç",
            defaultValue = "—à—Ç",
            maxLength = 20
    )
    @Size(max = 20)
    private String unit = "—à—Ç";

    @Schema(
            description = "–¢–µ—Ä–º—ñ–Ω –ø—Ä–∏–¥–∞—Ç–Ω–æ—Å—Ç—ñ (–æ–ø—Ü—ñ–π–Ω–æ)",
            example = "2029-12-31",
            type = "string",
            format = "date"
    )
    @Future
    private LocalDate expirationDate;

    @Schema(
            description = "–ö–ª–∞—Å –Ω–µ–±–µ–∑–ø–µ–∫–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª—É",
            example = "EXPLOSIVE",
            required = true,
            allowableValues = {"NON_HAZARDOUS", "FLAMMABLE", "EXPLOSIVE", "TOXIC", "CORROSIVE"}
    )
    @NotNull
    private HazardClass hazardClass;

    // –Ü–Ω—à—ñ –ø–æ–ª—è...
}
```

---

### –î–æ—Å—Ç—É–ø –¥–æ Swagger UI

**–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É –¥–æ–¥–∞—Ç–∫—É:**

1. **Swagger UI:** `http://localhost:8080/swagger-ui.html`
    - –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
    - –ú–æ–∂–Ω–∞ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ API –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ

2. **OpenAPI JSON:** `http://localhost:8080/v3/api-docs`
    - JSON —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—è
    - –î–ª—è —ñ–º–ø–æ—Ä—Ç—É –≤ Postman

**–©–æ –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ –≤ Swagger UI:**
- –°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö endpoints –∑–≥—Ä—É–ø–æ–≤–∞–Ω–∏—Ö –ø–æ Tags
- –û–ø–∏—Å –∫–æ–∂–Ω–æ–≥–æ endpoint
- –ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤/–≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–∫–æ–Ω–∞—Ç–∏ –∑–∞–ø–∏—Ç (Try it out)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É –≤–∞–ª—ñ–¥–∞—Ü—ñ—é

---

## üß™ –ï–¢–ê–ü 10: –¢–ï–°–¢–£–í–ê–ù–ù–Ø (30 —Ö–≤)

### –ó–∞–ø—É—Å–∫ –¥–æ–¥–∞—Ç–∫—É

```bash
# –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ –ë–î –∑–∞–ø—É—â–µ–Ω–∞
docker-compose ps

# –Ø–∫—â–æ –Ω—ñ - –∑–∞–ø—É—Å—Ç—ñ—Ç—å
docker-compose up -d

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫
mvn spring-boot:run

# –ê–±–æ —á–µ—Ä–µ–∑ IDE: Run WarehouseApplication.java
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–ø—É—Å–∫—É:**
```
2024-12-01 15:00:00 INFO  Started WarehouseApplication in 3.456 seconds
```

**–í—ñ–¥–∫—Ä–∏–π—Ç–µ Swagger UI:**
```
http://localhost:8080/swagger-ui.html
```

---

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ Swagger UI

**–°—Ü–µ–Ω–∞—Ä—ñ–π —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è:**

#### 1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é

```
POST /api/supply-categories
```

**Request Body:**
```json
{
  "name": "–ë–æ—î–ø—Ä–∏–ø–∞—Å–∏ 5.45–º–º",
  "code": "AMMO-545",
  "description": "–ë–æ—î–ø—Ä–∏–ø–∞—Å–∏ –∫–∞–ª—ñ–±—Ä—É 5.45–º–º –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç—ñ–≤ –ê–ö-74",
  "requiresColdStorage": false
}
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 201 Created, –∑ `id` –≤ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ

---

#### 2. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Å–∫–ª–∞–¥

```
POST /api/warehouses
```

**Request Body:**
```json
{
  "name": "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∏–π —Å–∫–ª–∞–¥ ‚Ññ1",
  "code": "WH-01",
  "address": "–≤—É–ª. –í—ñ–π—Å—å–∫–æ–≤–∞, 15",
  "capacity": 1000,
  "currentOccupancy": 45,
  "hasRefrigeration": false
}
```

---

#### 3. –°—Ç–≤–æ—Ä–∏—Ç–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª

```
POST /api/supply-items
```

**Request Body:**
```json
{
  "name": "–ü–∞—Ç—Ä–æ–Ω–∏ 5.45—Ö39 –º–º –ê–ö-74",
  "batchNumber": "BATCH-2024-12-001",
  "categoryId": 1,
  "quantity": 5000,
  "unit": "—à—Ç",
  "expirationDate": "2029-12-31",
  "hazardClass": "EXPLOSIVE",
  "storageConditions": "–°—É—Ö–µ –ø—Ä–∏–º—ñ—â–µ–Ω–Ω—è, t +5..+25¬∞C",
  "warehouseId": 1
}
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 201 Created, –ø–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –∑ –≤–∫–ª–∞–¥–µ–Ω–æ—é –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é

---

#### 4. –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏

```
GET /api/supply-items
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 200 OK, –º–∞—Å–∏–≤ –∑ –æ–¥–Ω–∏–º –µ–ª–µ–º–µ–Ω—Ç–æ–º

---

#### 5. –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ø–æ —Å—Ç–∞—Ç—É—Å—É

```
GET /api/supply-items?status=IN_STOCK
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 200 OK, —Ç—ñ–ª—å–∫–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏ –Ω–∞ —Å–∫–ª–∞–¥—ñ

---

#### 6. –û–Ω–æ–≤–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å

```
PUT /api/supply-items/1
```

**Request Body:**
```json
{
  "quantity": 4500
}
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 200 OK, –æ–Ω–æ–≤–ª–µ–Ω—ñ –¥–∞–Ω—ñ

---

#### 7. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏ —â–æ –∑–∞–∫—ñ–Ω—á—É—é—Ç—å—Å—è

```
GET /api/supply-items/expiring-soon?days=60
```

---

#### 8. –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –¥—É–±–ª—ñ–∫–∞—Ç (–Ω–µ–≥–∞—Ç–∏–≤–Ω–∏–π —Ç–µ—Å—Ç)

```
POST /api/supply-items
```

**Request Body:** (—Ç–æ–π —Å–∞–º–∏–π batchNumber —â–æ —ñ —Ä–∞–Ω—ñ—à–µ)
```json
{
  "name": "–Ü–Ω—à–∏–π –º–∞—Ç–µ—Ä—ñ–∞–ª",
  "batchNumber": "BATCH-2024-12-001",
  ...
}
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 409 Conflict –∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º –ø—Ä–æ –¥—É–±–ª—ñ–∫–∞—Ç

---

#### 9. –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑ –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏

```
POST /api/supply-items
```

**Request Body:**
```json
{
  "name": "",
  "quantity": -100
}
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 400 Bad Request –∑ –¥–µ—Ç–∞–ª—å–Ω–∏–º–∏ –ø–æ–º–∏–ª–∫–∞–º–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó

---

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ Postman

**–Ü–º–ø–æ—Ä—Ç OpenAPI:**

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Postman
2. Import ‚Üí Link
3. –í—Å—Ç–∞–≤—Ç–µ: `http://localhost:8080/v3/api-docs`
4. Import

**Postman –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç—å:**
- –í—Å—ñ endpoints
- –ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤
- –ó–º—ñ–Ω–Ω—ñ –¥–ª—è baseUrl

**–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Environment:**
```
baseUrl = http://localhost:8080
categoryId = 1  (–∑–∞–ø–æ–≤–Ω–∏—Ç—å—Å—è –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è)
itemId = 1      (–∑–∞–ø–æ–≤–Ω–∏—Ç—å—Å—è –ø—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è)
```

---

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–≥—ñ–≤

**–©–æ –¥–∏–≤–∏—Ç–∏—Å—è –≤ –∫–æ–Ω—Å–æ–ª—ñ:**

```sql
Hibernate: 
    insert 
    into
        supply_items
        (batch_number, category_id, created_at, expiration_date, ...)
    values
        (?, ?, ?, ?, ...)
```

**–•–æ—Ä–æ—à—ñ –æ–∑–Ω–∞–∫–∏:**
- ‚úÖ SQL –∑–∞–ø–∏—Ç–∏ —Ñ–æ—Ä–º–∞—Ç–æ–≤–∞–Ω—ñ —Ç–∞ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ
- ‚úÖ –ë–∞—á–∏—Ç–µ INSERT/UPDATE/SELECT
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–º—ñ–Ω–µ–Ω—ñ –Ω–∞ `?` (prepared statements)
- ‚úÖ –õ–æ–≥–∏ –∑ Service: "Creating new supply item..."

**–ü–æ–≥–∞–Ω—ñ –æ–∑–Ω–∞–∫–∏:**
- ‚ùå LazyInitializationException
- ‚ùå ConstraintViolationException (–≤–∞–ª—ñ–¥–∞—Ü—ñ—è –Ω–µ —Å–ø—Ä–∞—Ü—é–≤–∞–ª–∞)
- ‚ùå –ë–∞–≥–∞—Ç–æ SELECT –∑–∞–ø–∏—Ç—ñ–≤ (N+1 –ø—Ä–æ–±–ª–µ–º–∞)

---

## üìä –ö–†–ò–¢–ï–†–Ü–á –û–¶–Ü–ù–Æ–í–ê–ù–ù–Ø (30 –±–∞–ª—ñ–≤)

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è (GitHub Actions)

–ü—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ Pull Request –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è:

1. **–ö–æ–º–ø—ñ–ª—è—Ü—ñ—è** (–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)
    - `mvn clean compile`
    - –Ø–∫—â–æ –Ω–µ –∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è ‚Üí 0 –±–∞–ª—ñ–≤

2. **Checkstyle** (—è–∫—ñ—Å—Ç—å –∫–æ–¥—É)
    - –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ code style
    - –ö—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫ ‚Üí –∑–Ω–∏–∂–µ–Ω–Ω—è –±–∞–ª—ñ–≤

3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É** (–∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞)
    - –ù–∞—è–≤–Ω—ñ—Å—Ç—å –ø–∞–∫–µ—Ç—ñ–≤ entity, repository, service, controller, dto
    - –ü—Ä–∞–≤–∏–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

---

### –†—É—á–Ω–µ –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è (–≤–∏–∫–ª–∞–¥–∞—á–µ–º)

#### 1. Entity + Repository (6 –±–∞–ª—ñ–≤)

**–©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è:**
- ‚úÖ 3 Entity –∫–ª–∞—Å–∏ –∑–≥—ñ–¥–Ω–æ –≤–∞—Ä—ñ–∞–Ω—Ç—É (Category, Item, Location/Person)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ñ –Ω–∞–∑–≤–∏ —Ç–∞–±–ª–∏—Ü—å (`@Table(name="...")`)
- ‚úÖ –í—Å—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è –ø—Ä–∏—Å—É—Ç–Ω—ñ
- ‚úÖ –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –ø–æ–ª—è –¥–ª—è –≤–∞—Ä—ñ–∞–Ω—Ç—É (expirationDate, mileage, contractEndDate)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ñ –∑–≤'—è–∑–∫–∏ (`@ManyToOne` –∑ `FetchType.LAZY`)
- ‚úÖ Enum –∫–ª–∞—Å–∏ (ItemStatus, HazardClass/FuelType/Rank)
- ‚úÖ Auditing (`@CreatedDate`, `@LastModifiedDate`)
- ‚úÖ 3 Repository —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏
- ‚úÖ Query Methods (findBy..., countBy..., existsBy...)
- ‚úÖ –ú—ñ–Ω—ñ–º—É–º 1 JPQL –∑–∞–ø–∏—Ç –∑ JOIN FETCH

**–†–æ–∑–ø–æ–¥—ñ–ª –±–∞–ª—ñ–≤:**
- Entity –∫–ª–∞—Å–∏: 3 –±–∞–ª–∏
- Enum –∫–ª–∞—Å–∏: 1 –±–∞–ª
- Repository: 2 –±–∞–ª–∏

---

#### 2. Service Layer (6 –±–∞–ª—ñ–≤)

**–©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è:**
- ‚úÖ Service –∫–ª–∞—Å–∏ –¥–ª—è –≤—Å—ñ—Ö Entity
- ‚úÖ CRUD –º–µ—Ç–æ–¥–∏ (create, getById, getAll, update, delete)
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —É–Ω—ñ–∫–∞–ª—å–Ω–æ—Å—Ç—ñ –≤ create
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è –≤ update/delete
- ‚úÖ –í–∏–∫–∏–¥–∞–Ω–Ω—è Exception –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö
- ‚úÖ `@Transactional` –Ω–∞ –º–µ—Ç–æ–¥–∞—Ö —â–æ –∑–º—ñ–Ω—é—é—Ç—å –¥–∞–Ω—ñ
- ‚úÖ –ú–∞–ø–ø—ñ–Ω–≥ –º–µ—Ç–æ–¥–∏ Entity ‚Üî DTO
- ‚úÖ –õ–æ–≥—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ `log.info()`, `log.debug()`
- ‚úÖ –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ (—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∞ –¥–ª—è –≤–∞—Ä—ñ–∞–Ω—Ç—É)

**–†–æ–∑–ø–æ–¥—ñ–ª –±–∞–ª—ñ–≤:**
- CRUD –º–µ—Ç–æ–¥–∏: 2 –±–∞–ª–∏
- –ú–∞–ø–ø—ñ–Ω–≥: 2 –±–∞–ª–∏
- –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞: 2 –±–∞–ª–∏

**–®—Ç—Ä–∞—Ñ–∏:**
- –ù–µ–º–∞—î `@Transactional` –Ω–∞ –º–µ—Ç–æ–¥–∞—Ö –∑–º—ñ–Ω–∏: -2 –±–∞–ª–∏
- –ù–µ–º–∞—î –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è: -1 –±–∞–ª
- –ù–µ–º–∞—î –ª–æ–≥—É–≤–∞–Ω–Ω—è: -1 –±–∞–ª

---

#### 3. REST Controllers (8 –±–∞–ª—ñ–≤)

**–©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è:**
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ –¥–ª—è –≤—Å—ñ—Ö Entity
- ‚úÖ –í—Å—ñ CRUD endpoints (POST, GET, PUT, DELETE)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ñ HTTP –º–µ—Ç–æ–¥–∏ —Ç–∞ —Å—Ç–∞—Ç—É—Å–∏
- ‚úÖ `@Valid` –Ω–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ/–æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ
- ‚úÖ `ResponseEntity` –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏
- ‚úÖ –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –≤ getAll (–º—ñ–Ω—ñ–º—É–º 1 –ø–∞—Ä–∞–º–µ—Ç—Ä)
- ‚úÖ –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏–π endpoint (expiring-soon / requiring-maintenance / contracts-expiring)
- ‚úÖ Swagger –∞–Ω–æ—Ç–∞—Ü—ñ—ó (`@Tag`, `@Operation`)
- ‚úÖ –õ–æ–≥—É–≤–∞–Ω–Ω—è –∑–∞–ø–∏—Ç—ñ–≤

**–†–æ–∑–ø–æ–¥—ñ–ª –±–∞–ª—ñ–≤:**
- CRUD endpoints: 5 –±–∞–ª—ñ–≤
- –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ —Å–ø–µ—Ü. endpoints: 2 –±–∞–ª–∏
- HTTP —Å—Ç–∞—Ç—É—Å–∏ —Ç–∞ ResponseEntity: 2 –±–∞–ª–∏
- Swagger –∞–Ω–æ—Ç–∞—Ü—ñ—ó: 1 –±–∞–ª

**–®—Ç—Ä–∞—Ñ–∏:**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ HTTP —Å—Ç–∞—Ç—É—Å–∏ (201 –∑–∞–º—ñ—Å—Ç—å 200): -1 –±–∞–ª
- –ù–µ–º–∞—î `@Valid`: -2 –±–∞–ª–∏
- –ù–µ–º–∞—î Swagger –∞–Ω–æ—Ç–∞—Ü—ñ–π: -1 –±–∞–ª

---

#### 4. Validation (4 –±–∞–ª–∏)

**–©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è:**
- ‚úÖ Bean Validation –≤ DTO –∫–ª–∞—Å–∞—Ö
- ‚úÖ `@NotNull`, `@NotBlank`, `@Size`, `@Positive`
- ‚úÖ –°–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ (`@Future`, `@Email`, `@Pattern`)
- ‚úÖ Validation Groups (OnCreate, OnUpdate) - –æ–ø—Ü—ñ–π–Ω–æ –∞–ª–µ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ
- ‚úÖ Custom validators (–æ–ø—Ü—ñ–π–Ω–æ)
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Å–ø—Ä–∞—Ü—å–æ–≤—É—î (400 –ø—Ä–∏ –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö)

**–†–æ–∑–ø–æ–¥—ñ–ª –±–∞–ª—ñ–≤:**
- –ë–∞–∑–æ–≤–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è: 2 –±–∞–ª–∏
- –°–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –≤–∞–ª—ñ–¥–∞—Ç–æ—Ä–∏: 1 –±–∞–ª
- Validation Groups –∞–±–æ Custom: 1 –±–∞–ª

---

#### 5. Exception Handling (4 –±–∞–ª–∏)

**–©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è:**
- ‚úÖ Custom Exception –∫–ª–∞—Å–∏ (ResourceNotFoundException, DuplicateResourceException, BusinessLogicException)
- ‚úÖ GlobalExceptionHandler –∑ `@RestControllerAdvice`
- ‚úÖ –û–±—Ä–æ–±–∫–∞ –≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤ –ø–æ–º–∏–ª–æ–∫ (404, 409, 400, 500)
- ‚úÖ ErrorResponse –∑–≥—ñ–¥–Ω–æ RFC 7807
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ñ HTTP —Å—Ç–∞—Ç—É—Å–∏
- ‚úÖ –Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫

**–†–æ–∑–ø–æ–¥—ñ–ª –±–∞–ª—ñ–≤:**
- Custom Exceptions: 1 –±–∞–ª
- GlobalExceptionHandler: 2 –±–∞–ª–∏
- ErrorResponse —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: 1 –±–∞–ª

---

#### 6. Swagger Documentation (2 –±–∞–ª–∏)

**–©–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î—Ç—å—Å—è:**
- ‚úÖ Swagger UI –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ `/swagger-ui.html`
- ‚úÖ OpenApiConfig –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π
- ‚úÖ `@Tag` –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞—Ö
- ‚úÖ `@Operation` –Ω–∞ endpoints
- ‚úÖ `@Schema` –Ω–∞ DTO (–æ–ø—Ü—ñ–π–Ω–æ)
- ‚úÖ –û–ø–∏—Å –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- ‚úÖ –ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤ (–æ–ø—Ü—ñ–π–Ω–æ)

**–†–æ–∑–ø–æ–¥—ñ–ª –±–∞–ª—ñ–≤:**
- –ë–∞–∑–æ–≤–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è: 1 –±–∞–ª
- –î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: 1 –±–∞–ª

---

### –¢–∞–±–ª–∏—Ü—è –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è

| –ö—Ä–∏—Ç–µ—Ä—ñ–π | –ú–∞–∫—Å–∏–º—É–º |
|----------|----------|
| Entity + Repository | 6        |
| Service Layer | 6        |
| REST Controllers | 8        |
| Validation | 4        |
| Exception Handling | 4        |
| Swagger | 2        |
| **–ó–ê–ì–ê–õ–û–ú** | **30**   |

**–®–∫–∞–ª–∞ –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è:**
- 32-35 –±–∞–ª—ñ–≤ (90%+) - –í—ñ–¥–º—ñ–Ω–Ω–æ
- 27-31 –±–∞–ª—ñ–≤ (75-89%) - –î–æ–±—Ä–µ
- 20-26 –±–∞–ª—ñ–≤ (60-74%) - –ó–∞–¥–æ–≤—ñ–ª—å–Ω–æ
- <20 –±–∞–ª—ñ–≤ (<60%) - –ù–µ–∑–∞–¥–æ–≤—ñ–ª—å–Ω–æ (–ø–µ—Ä–µ—Ä–æ–±–∏—Ç–∏)

---

## ‚úÖ –ß–ï–ö-–õ–ò–°–¢ –ó–î–ê–ß–Ü

### –ü–µ—Ä–µ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è–º Pull Request

**–ü—Ä–æ—î–∫—Ç:**
- [ ] –î–æ–¥–∞—Ç–æ–∫ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
- [ ] –ë–î –ø—ñ–¥–∫–ª—é—á–µ–Ω–∞ —Ç–∞ –ø—Ä–∞—Ü—é—î
- [ ] –°—Ç–≤–æ—Ä–µ–Ω–æ –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–∞–∫–µ—Ç–∏

**Entity:**
- [ ] 3 Entity –∫–ª–∞—Å–∏ –∑–≥—ñ–¥–Ω–æ –≤–∞—Ä—ñ–∞–Ω—Ç—É
- [ ] –ü—Ä–∞–≤–∏–ª—å–Ω—ñ –Ω–∞–∑–≤–∏ —Ç–∞–±–ª–∏—Ü—å
- [ ] –í—Å—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è
- [ ] –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –ø–æ–ª—è –≤–∞—Ä—ñ–∞–Ω—Ç—É
- [ ] –ó–≤'—è–∑–∫–∏ `@ManyToOne`
- [ ] Enum –∫–ª–∞—Å–∏
- [ ] Auditing –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π

**Repository:**
- [ ] 3 Repository —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏
- [ ] Query Methods
- [ ] –ú—ñ–Ω—ñ–º—É–º 1 JPQL –∑ JOIN FETCH

**DTO:**
- [ ] ResponseDTO –¥–ª—è –≤—Å—ñ—Ö Entity
- [ ] CreateDTO –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é
- [ ] UpdateDTO
- [ ] –í–∫–ª–∞–¥–µ–Ω—ñ DTO (CategoryDTO –≤ ItemDTO)

**Service:**
- [ ] Service –∫–ª–∞—Å–∏ –¥–ª—è –≤—Å—ñ—Ö Entity
- [ ] –í—Å—ñ CRUD –º–µ—Ç–æ–¥–∏
- [ ] `@Transactional` –Ω–∞ –º–µ—Ç–æ–¥–∞—Ö –∑–º—ñ–Ω–∏
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∏ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è
- [ ] –í–∏–∫–∏–¥–∞–Ω–Ω—è Exception
- [ ] –ú–∞–ø–ø—ñ–Ω–≥ Entity ‚Üî DTO
- [ ] –õ–æ–≥—É–≤–∞–Ω–Ω—è
- [ ] –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ –≤–∞—Ä—ñ–∞–Ω—Ç—É

**Controller:**
- [ ] –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ –¥–ª—è –≤—Å—ñ—Ö Entity
- [ ] –í—Å—ñ CRUD endpoints
- [ ] `@Valid` –Ω–∞ POST/PUT
- [ ] –ü—Ä–∞–≤–∏–ª—å–Ω—ñ HTTP —Å—Ç–∞—Ç—É—Å–∏ (201, 200, 204, 404, 409)
- [ ] –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –≤ getAll
- [ ] –°–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏–π endpoint
- [ ] Swagger –∞–Ω–æ—Ç–∞—Ü—ñ—ó

**Validation:**
- [ ] Bean Validation –≤ DTO
- [ ] –†—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω—ñ –∞–Ω–æ—Ç–∞—Ü—ñ—ó
- [ ] –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Å–ø—Ä–∞—Ü—å–æ–≤—É—î (—Ç–µ—Å—Ç—É–≤–∞–ª–∏)

**Exceptions:**
- [ ] Custom Exception –∫–ª–∞—Å–∏
- [ ] GlobalExceptionHandler
- [ ] ErrorResponse
- [ ] –í—Å—ñ —Ç–∏–ø–∏ –ø–æ–º–∏–ª–æ–∫ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è

**Swagger:**
- [ ] Swagger UI –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è
- [ ] OpenApiConfig –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è endpoints

**–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:**
- [ ] –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —á–µ—Ä–µ–∑ Swagger –ø—Ä–∞—Ü—é—î
- [ ] –û—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –ø—Ä–∞—Ü—é—î
- [ ] –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –ø—Ä–∞—Ü—é—î
- [ ] –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–∞—Ü—é—î
- [ ] –í–∏–¥–∞–ª–µ–Ω–Ω—è –ø—Ä–∞—Ü—é—î
- [ ] –í–∞–ª—ñ–¥–∞—Ü—ñ–π–Ω—ñ –ø–æ–º–∏–ª–∫–∏ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è
- [ ] –ü–æ–º–∏–ª–∫–∏ 404/409 —Å–ø—Ä–∞—Ü—å–æ–≤—É—é—Ç—å

---

### Git —Ç–∞ Pull Request

```bash
# 1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å
git status

# 2. –î–æ–¥–∞—Ç–∏ —Ñ–∞–π–ª–∏
git add .

# 3. Commit
git commit -m "feat(stage1): implement full CRUD REST API for [–≤–∞—Ä—ñ–∞–Ω—Ç]

- Added Entity classes: Category, Item, Location/Person
- Added Repository with Query Methods
- Added Service Layer with business logic
- Added REST Controllers with CRUD endpoints
- Added Bean Validation
- Added Exception Handling
- Added Swagger documentation
- Added [—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∞ —Ñ—ñ—á–∞ –≤–∞—Ä—ñ–∞–Ω—Ç—É]"

# 4. Push
git push origin stage-1
```

**–ù–∞ GitHub:**
1. –°—Ç–≤–æ—Ä–∏—Ç–∏ Pull Request: `stage-1` ‚Üí `main`
2. –î–æ–¥–∞—Ç–∏ label `stage-1`
3. –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ –æ–ø–∏—Å PR:
    - –©–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
    - –Ø–∫–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç
    - –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

---

## üÜò TROUBLESHOOTING

### –ü–æ–º–∏–ª–∫–∞: "Could not autowire. No beans found"

**–ü—Ä–∏—á–∏–Ω–∞:** Repository/Service –Ω–µ —Å–∫–∞–Ω—É—î—Ç—å—Å—è Spring

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –ø–∞–∫–µ—Ç –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ `ua.edu.viti.military` –∞–±–æ –ø—ñ–¥–ø–∞–∫–µ—Ç–∞—Ö
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∞–Ω–æ—Ç–∞—Ü—ñ—é `@Repository` / `@Service`
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ main –∫–ª–∞—Å –º–∞—î `@SpringBootApplication`

---

### –ü–æ–º–∏–ª–∫–∞: LazyInitializationException

**–ü—Ä–∏—á–∏–Ω–∞:** –°–ø—Ä–æ–±–∞ –¥–æ—Å—Ç—É–ø—É –¥–æ lazy –ø–æ–ª—è –ø–æ–∑–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—î—é

**–†—ñ—à–µ–Ω–Ω—è:**
1. –î–æ–¥–∞–π—Ç–µ `@Transactional(readOnly = true)` –Ω–∞ Service –∫–ª–∞—Å
2. –ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ JOIN FETCH –≤ Repository

---

### –ü–æ–º–∏–ª–∫–∞: ConstraintViolationException

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ—Ä—É—à–µ–Ω–Ω—è constraint –ë–î (—É–Ω—ñ–∫–∞–ª—å–Ω—ñ—Å—Ç—å, NOT NULL)

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –Ω–µ –Ω–∞–º–∞–≥–∞—î—Ç–µ—Å—å —Å—Ç–≤–æ—Ä–∏—Ç–∏ –¥—É–±–ª—ñ–∫–∞—Ç
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –≤—Å—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è –∑–∞–ø–æ–≤–Ω–µ–Ω—ñ
3. –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –¥–µ—Ç–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–∫–∏

---

### –ü–æ–º–∏–ª–∫–∞: JSON parse error

**–ü—Ä–∏—á–∏–Ω–∞:** –¶–∏–∫–ª—ñ—á–Ω–∞ –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –ø—Ä–∏ —Å–µ—Ä—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ù–ï –ø–æ–≤–µ—Ä—Ç–∞–π—Ç–µ Entity –∑ Controller
2. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ DTO
3. –í–∏–¥–∞–ª—ñ—Ç—å `@JsonBackReference` / `@JsonManagedReference` (—Ü–µ legacy)

---

### –ü–æ–º–∏–ª–∫–∞: Validation –Ω–µ —Å–ø—Ä–∞—Ü—å–æ–≤—É—î

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–º–∞—î `@Valid` –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä—ñ

**–†—ñ—à–µ–Ω–Ω—è:**
```java
public ResponseEntity<ItemDTO> create(
    @Valid @RequestBody ItemCreateDTO dto) {  // <- @Valid –æ–±–æ–≤'—è–∑–∫–æ–≤–æ!
```

---

### Swagger UI –Ω–µ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π URL –∞–±–æ –ø–æ—Ä—Ç –∑–∞–π–Ω—è—Ç–∏–π

**–†—ñ—à–µ–Ω–Ω—è:**
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –¥–æ–¥–∞—Ç–æ–∫ –∑–∞–ø—É—â–µ–Ω–∏–π
2. URL: `http://localhost:8080/swagger-ui.html` (–Ω–µ `/index.html`)
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø–æ–º–∏–ª–∫–∏

---

### –ë–î –Ω–µ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω–∏–π –∞–±–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ credentials

**–†—ñ—à–µ–Ω–Ω—è:**
```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å
docker-compose ps

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏
docker-compose restart postgres

# –ü–æ–¥–∏–≤–∏—Ç–∏—Å—è –ª–æ–≥–∏
docker-compose logs postgres

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ application.properties
```

---

## üìö –î–û–î–ê–¢–ö–û–í–Ü –ú–ê–¢–ï–†–Ü–ê–õ–ò

### –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

**Spring Framework:**
- [Spring Boot Reference](https://docs.spring.io/spring-boot/docs/current/reference/html/)
- [Spring Data JPA Reference](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/)
- [Spring MVC Reference](https://docs.spring.io/spring-framework/docs/current/reference/html/web.html)

**Bean Validation:**
- [Bean Validation Spec](https://beanvalidation.org/2.0/spec/)
- [Hibernate Validator](https://hibernate.org/validator/)

**OpenAPI/Swagger:**
- [SpringDoc OpenAPI](https://springdoc.org/)
- [OpenAPI Specification](https://swagger.io/specification/)

**PostgreSQL:**
- [PostgreSQL Documentation](https://www.postgresql.org/docs/)
- [Docker PostgreSQL](https://hub.docker.com/_/postgres)

---

### –ü—Ä–∏–∫–ª–∞–¥–∏ –∫–æ–¥—É –¥–ª—è —ñ–Ω—Å–ø—ñ—Ä–∞—Ü—ñ—ó

**–û—Ñ—ñ—Ü—ñ–π–Ω—ñ –ø—Ä–∏–∫–ª–∞–¥–∏ Spring:**
- https://github.com/spring-projects/spring-boot/tree/main/spring-boot-samples
- https://spring.io/guides

**REST API Best Practices:**
- https://github.com/restfulapi/api-guidelines
- https://github.com/Microsoft/api-guidelines

---

### –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏

**IDE:**
- IntelliJ IDEA Community (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)
- Eclipse IDE
- Visual Studio Code + Java Extension Pack

**API Testing:**
- Postman
- Insomnia
- cURL

**Database:**
- DBeaver (GUI –¥–ª—è PostgreSQL)
- pgAdmin
- DataGrip (–ø–ª–∞—Ç–Ω–∏–π)

**Git:**
- Git Bash
- GitHub Desktop
- SourceTree

---

## üéì –ü–û–†–ê–î–ò –í–ò–ö–õ–ê–î–ê–ß–ê

### –¢–∏–ø–æ–≤—ñ –ø–æ–º–∏–ª–∫–∏ –∫—É—Ä—Å–∞–Ω—Ç—ñ–≤

1. **–ü–æ–≤–µ—Ä—Ç–∞—é—Ç—å Entity –∑ Controller –∑–∞–º—ñ—Å—Ç—å DTO**
    - –ü—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ —Ü–∏–∫–ª—ñ—á–Ω–∏—Ö –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
    - –†–æ–∑–≤'—è–∑–∫–∞: –∑–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ DTO

2. **–ó–∞–±—É–≤–∞—é—Ç—å `@Valid` –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä—ñ**
    - –í–∞–ª—ñ–¥–∞—Ü—ñ—è –Ω–µ —Å–ø—Ä–∞—Ü—å–æ–≤—É—î
    - –†–æ–∑–≤'—è–∑–∫–∞: `@Valid @RequestBody`

3. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å `@Enumerated(EnumType.ORDINAL)`**
    - –ü—Ä–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—ñ –Ω–æ–≤–∏—Ö –∑–Ω–∞—á–µ–Ω—å –ø–æ—Ä—É—à—É—î—Ç—å—Å—è –ø–æ—Ä—è–¥–æ–∫
    - –†–æ–∑–≤'—è–∑–∫–∞: –∑–∞–≤–∂–¥–∏ `EnumType.STRING`

4. **–ù–µ –¥–æ–¥–∞—é—Ç—å `@Transactional` –Ω–∞ –º–µ—Ç–æ–¥–∏ Service**
    - LazyInitializationException
    - –†–æ–∑–≤'—è–∑–∫–∞: `@Transactional` –Ω–∞ –∫–ª–∞—Å—ñ —Ç–∞ –º–µ—Ç–æ–¥–∞—Ö

5. **–ó–∞–±—É–≤–∞—é—Ç—å –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–¥ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º**
    - NullPointerException
    - –†–æ–∑–≤'—è–∑–∫–∞: `.orElseThrow()`

6. **–ö–æ–ø—ñ—é—é—Ç—å –∫–æ–¥ –∑–∞–º—ñ—Å—Ç—å —Ä–æ–∑—É–º—ñ–Ω–Ω—è**
    - –ù–µ –º–æ–∂—É—Ç—å –ø–æ—è—Å–Ω–∏—Ç–∏ —â–æ —Ä–æ–±–∏—Ç—å –∫–æ–¥
    - –†–æ–∑–≤'—è–∑–∫–∞: —á–∏—Ç–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é, –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É–π—Ç–µ

---

### –Ø–∫ –ø—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏—Å—è –¥–æ –∑–¥–∞—á—ñ

1. **–†–æ–∑—É–º—ñ–π—Ç–µ —Å–≤—ñ–π –∫–æ–¥**
    - –ë—É–¥—å—Ç–µ –≥–æ—Ç–æ–≤—ñ –ø–æ—è—Å–Ω–∏—Ç–∏ –∫–æ–∂–µ–Ω —Ä—è–¥–æ–∫
    - –ó–Ω–∞–π—Ç–µ —á–æ–º—É –æ–±—Ä–∞–ª–∏ —Å–∞–º–µ —Ç–∞–∫–∏–π –ø—ñ–¥—Ö—ñ–¥

2. **–ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ –≤—Å—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó**
    - –ü–æ–∑–∏—Ç–∏–≤–Ω—ñ —Ç–µ—Å—Ç–∏ (–≤—Å–µ –ø—Ä–∞—Ü—é—î)
    - –ù–µ–≥–∞—Ç–∏–≤–Ω—ñ —Ç–µ—Å—Ç–∏ (–ø–æ–º–∏–ª–∫–∏ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è)

3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–¥ style**
    - –ù–µ–º–∞—î unused imports
    - –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —î–¥–∏–Ω–µ
    - –ù–∞–∑–≤–∏ –∑–º—ñ–Ω–Ω–∏—Ö –∑—Ä–æ–∑—É–º—ñ–ª—ñ

4. **–ü—ñ–¥–≥–æ—Ç—É–π—Ç–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—é**
    - –ó–∞–∑–¥–∞–ª–µ–≥—ñ–¥—å —Å—Ç–≤–æ—Ä—ñ—Ç—å —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ
    - –ó–Ω–∞–π—Ç–µ —è–∫—ñ endpoints –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏

5. **–ë—É–¥—å—Ç–µ –≥–æ—Ç–æ–≤—ñ –¥–æ –ø–∏—Ç–∞–Ω—å**
    - –ß–æ–º—É –æ–±—Ä–∞–ª–∏ —Å–∞–º–µ —Ü–µ–π –≤–∞—Ä—ñ–∞–Ω—Ç?
    - –Ø–∫ –ø—Ä–∞—Ü—é—î `@Transactional`?
    - –©–æ —Ç–∞–∫–µ DTO —ñ –Ω–∞–≤—ñ—â–æ –≤–æ–Ω–æ –ø–æ—Ç—Ä—ñ–±–Ω–µ?
    - –Ø–∫ –æ–±—Ä–æ–±–ª—è—é—Ç—å—Å—è –ø–æ–º–∏–ª–∫–∏?

---

## üéâ –ó–ê–í–ï–†–®–ï–ù–ù–Ø

**–í—ñ—Ç–∞—î–º–æ! –í–∏ –∑–∞–≤–µ—Ä—à–∏–ª–∏ Stage 1!**

–í–∏ —Å—Ç–≤–æ—Ä–∏–ª–∏:
- ‚úÖ –ü–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π REST API
- ‚úÖ Entity –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º–∏ –∑–≤'—è–∑–∫–∞–º–∏
- ‚úÖ Repository –∑ Query Methods
- ‚úÖ Service Layer –∑ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–æ—é
- ‚úÖ REST Controllers
- ‚úÖ Bean Validation
- ‚úÖ Exception Handling
- ‚úÖ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é

**–©–æ –¥–∞–ª—ñ?**

–ù–∞ **Stage 2 (–ü–ó 2/2)** –≤–∏ –¥–æ–¥–∞—Å—Ç–µ:
- üöÄ Liquibase –º—ñ–≥—Ä–∞—Ü—ñ—ó –ë–î
- üöÄ JWT Authentication & Authorization
- üöÄ –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó (MovementLog)
- üöÄ MapStruct –∞–≤—Ç–æ–º–∞–ø–ø—ñ–Ω–≥
- üöÄ Redis –∫–µ—à—É–≤–∞–Ω–Ω—è
- üöÄ Spring Events
- üöÄ Metrics & Logging

**–í–∞—à backend —Å—Ç–∞–Ω–µ production-ready! üí™**

---

**–£—Å–ø—ñ—Ö—ñ–≤ –Ω–∞ –ø—Ä–∞–∫—Ç–∏—á–Ω–æ–º—É –∑–∞–Ω—è—Ç—Ç—ñ!** üéØ
